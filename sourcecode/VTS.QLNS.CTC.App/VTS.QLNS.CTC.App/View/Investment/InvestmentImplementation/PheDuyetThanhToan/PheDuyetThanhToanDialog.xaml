<Window x:Class="VTS.QLNS.CTC.App.View.Investment.InvestmentImplementation.PheDuyetThanhToan.PheDuyetThanhToanDialog"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
             xmlns:local="clr-namespace:VTS.QLNS.CTC.App.View.Investment.InvestmentImplementation.PheDuyetThanhToan"
             mc:Ignorable="d" 
             xmlns:system="clr-namespace:System;assembly=mscorlib"
             xmlns:materialDesign="http://materialdesigninxaml.net/winfx/xaml/themes"
             xmlns:custom="clr-namespace:VTS.QLNS.CTC.Custom;assembly=VTS.QLNS.CTC.Custom"
             xmlns:wpf="clr-namespace:MaterialDesignThemes.Wpf;assembly=MaterialDesignThemes.Wpf"
             xmlns:ext="clr-namespace:VTS.QLNS.CTC.App.Extensions"
             xmlns:component="clr-namespace:VTS.QLNS.CTC.App.Component"
             xmlns:helper="clr-namespace:VTS.QLNS.CTC.App.Helper"
             WindowState="Maximized"
             d:DesignHeight="450" d:DesignWidth="800">
    <materialDesign:DialogHost
        Identifier="PheDuyetThanhToanDialog"
        DialogTheme="Inherit">
        <Grid
            Margin="16">
            <Grid.RowDefinitions>
                <RowDefinition
                    Height="*" />
                <RowDefinition
                    Height="Auto" />
            </Grid.RowDefinitions>
            <ScrollViewer
                Grid.Row="0"
                Margin="-4 0 -4 0"
                VerticalScrollBarVisibility="Auto"
                HorizontalScrollBarVisibility="Auto"
                MinHeight="500">
                <Grid>
                    <Grid.RowDefinitions>
                        <RowDefinition
                            Height="Auto" />
                        <RowDefinition
                            Height="*" />
                    </Grid.RowDefinitions>

                    <StackPanel
                        Orientation="Vertical">
                        <DockPanel>
                            <materialDesign:PackIcon
                                Kind="PlaylistPlus"
                                Style="{StaticResource DialogScreenIconStyle}" />
                            <StackPanel
                                Orientation="Vertical"
                                VerticalAlignment="Center"
                                Margin="10 0">
                                <TextBlock
                                    Text="{Binding Name}"
                                    FontWeight="Bold"></TextBlock>
                                <TextBlock
                                    Text="{Binding Description}"></TextBlock>
                            </StackPanel>
                        </DockPanel>
                        <Separator
                            Background="{DynamicResource MaterialDesignDivider}" />
                    </StackPanel>

                    <Grid
                        Margin="0 8"
                        Grid.Row="1">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition
                                Width="*" />
                            <ColumnDefinition
                                Width="*" />
                        </Grid.ColumnDefinitions>
                        <Grid
                            Grid.Column="0">
                            <Grid.RowDefinitions>
                                <RowDefinition />
                                <RowDefinition />
                            </Grid.RowDefinitions>
                            <Grid
                                Grid.Row="0">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition
                                        Width="*" />
                                    <ColumnDefinition
                                        Width="*" />
                                    <ColumnDefinition
                                        Width="*" />
                                    <ColumnDefinition
                                        Width="*" />
                                    <ColumnDefinition
                                        Width="*" />
                                    <ColumnDefinition
                                        Width="*" />
                                </Grid.ColumnDefinitions>
                                <Grid.RowDefinitions>
                                    <RowDefinition
                                        Height="auto" />
                                    <RowDefinition
                                        Height="auto" />
                                    <RowDefinition
                                        Height="auto" />
                                    <RowDefinition
                                        Height="auto" />
                                    <RowDefinition
                                        Height="auto" />
                                    <RowDefinition
                                        Height="auto" />
                                    <RowDefinition
                                        Height="auto" />
                                    <RowDefinition
                                        Height="auto" />
                                    <RowDefinition
                                        Height="auto" />
                                </Grid.RowDefinitions>
                                <Grid.Resources>
                                    <Style
                                        TargetType="custom:AutoCompleteComboBox"
                                        BasedOn="{StaticResource MaterialDesignFloatingHintComboBox}">
                                        <Setter
                                            Property="materialDesign:HintAssist.IsFloating"
                                            Value="True" />
                                        <Setter
                                            Property="HorizontalAlignment"
                                            Value="Stretch" />
                                        <Setter
                                            Property="VerticalAlignment"
                                            Value="Center" />
                                    </Style>
                                </Grid.Resources>

                                <StackPanel
                                    Grid.ColumnSpan="4">
                                    <TextBlock
                                        FontWeight="Bold">THÔNG TIN CHUNG</TextBlock>
                                </StackPanel>

                                <custom:AutoCompleteComboBox
                                    Grid.Row="1"
                                    Grid.Column="0"
                                    Margin="0 2 10 2"
                                    Width="300"
                                    IsEditable="True"
                                    TextSearch.TextPath="DisplayItem"
                                    DisplayMemberPath="DisplayItem"
                                    SelectedValuePath="ValueItem"
                                    materialDesign:HintAssist.Hint="Đơn vị"
                                    materialDesign:TextFieldAssist.HasClearButton="True"
                                    SelectedItem="{Binding CbxLoaiDonViSelected, UpdateSourceTrigger=PropertyChanged}"
                                    ItemsSource="{Binding CbxLoaiDonVi}"
                                    Visibility="{Binding AgregateVisibility, UpdateSourceTrigger=PropertyChanged}"
                                    IsEnabled="{Binding IsInsert}" />
                                <custom:AutoCompleteComboBox
                                    Grid.Row="1"
                                    Grid.Column="1"
                                    Margin="0 2 10 2"
                                    Width="300"
                                    IsEditable="True"
                                    TextSearch.TextPath="DisplayItem"
                                    DisplayMemberPath="DisplayItem"
                                    SelectedValuePath="ValueItem"
                                    materialDesign:HintAssist.Hint="Chủ đầu tư"
                                    materialDesign:TextFieldAssist.HasClearButton="True"
                                    SelectedItem="{Binding ChuDauTuSelected, UpdateSourceTrigger=PropertyChanged}"
                                    ItemsSource="{Binding DataChuDauTu}"
                                    Visibility="{Binding AgregateVisibility, UpdateSourceTrigger=PropertyChanged}"
                                    IsEnabled="{Binding IsInsert}" />
                                <custom:AutoCompleteComboBox
                                    Grid.Row="1"
                                    Grid.Column="2"
                                    Margin="0 2 10 2"
                                    Width="300"
                                    IsEditable="True"
                                    TextSearch.TextPath="DisplayItem"
                                    DisplayMemberPath="DisplayItem"
                                    SelectedValuePath="ValueItem"
                                    materialDesign:HintAssist.Hint="Loại thanh toán"
                                    materialDesign:TextFieldAssist.HasClearButton="True"
                                    SelectedItem="{Binding CbxLoaiThanhToanSelected, UpdateSourceTrigger=PropertyChanged}"
                                    ItemsSource="{Binding CbxLoaiThanhToan}"
                                    Visibility="{Binding AgregateVisibility, UpdateSourceTrigger=PropertyChanged}"
                                    IsEnabled="{Binding BIsChangePaymentType}" />
                                <!--<TextBox
                        Grid.Row="1"
                        Grid.Column="3"
                        Margin="0 2 10 2"
                        Width="300"
                        materialDesign:HintAssist.Hint="Năm kế hoạch"
                        IsEnabled="{Binding IsInsert}"
                        Text="{Binding INamKeHoach}"
                        VerticalAlignment="Center"
                        Style="{StaticResource MaterialDesignFloatingHintTextBox}"/>-->

                                <custom:AutoCompleteComboBox
                                    Grid.Row="1"
                                    Grid.Column="3"
                                    Width="300"
                                    Margin="0 2 10 2"
                                    IsEditable="True"
                                    TextSearch.TextPath="DisplayItem"
                                    DisplayMemberPath="DisplayItem"
                                    SelectedValuePath="ValueItem"
                                    materialDesign:HintAssist.Hint="Hạng mục dự án"
                                    materialDesign:TextFieldAssist.HasClearButton="True"
                                    SelectedItem="{Binding DuAnHangMucSelected, UpdateSourceTrigger=PropertyChanged}"
                                    ItemsSource="{Binding DataDuAnHangMuc}"
                                    Visibility="{Binding AgregateVisibility, UpdateSourceTrigger=PropertyChanged}"
                                    IsEnabled="{Binding IsInsert}" />

                                <custom:AutoCompleteComboBox
                                    Grid.Row="1"
                                    Grid.Column="4"
                                    Margin="0 2 10 2"
                                    IsEditable="True"
                                    Width="300"
                                    TextSearch.TextPath="DisplayItem"
                                    DisplayMemberPath="DisplayItem"
                                    SelectedValuePath="ValueItem"
                                    materialDesign:HintAssist.Hint="Dự án"
                                    materialDesign:TextFieldAssist.HasClearButton="True"
                                    SelectedItem="{Binding DuAnSelected, UpdateSourceTrigger=PropertyChanged}"
                                    ItemsSource="{Binding DataDuAn}"
                                    Visibility="{Binding AgregateVisibility, UpdateSourceTrigger=PropertyChanged}"
                                    IsEnabled="{Binding IsInsert}" />
                                <custom:AutoCompleteComboBox
                                    Grid.Row="1"
                                    Grid.Column="5"
                                    Width="300"
                                    Margin="0 0 0 0"
                                    IsEditable="True"
                                    TextSearch.TextPath="DisplayItem"
                                    DisplayMemberPath="DisplayItem"
                                    SelectedValuePath="ValueItem"
                                    materialDesign:HintAssist.Hint="Nguồn vốn"
                                    materialDesign:TextFieldAssist.HasClearButton="True"
                                    SelectedItem="{Binding NguonVonSelected, UpdateSourceTrigger=PropertyChanged}"
                                    ItemsSource="{Binding DataNguonVon}"
                                    Visibility="{Binding AgregateVisibility, UpdateSourceTrigger=PropertyChanged}"
                                    IsEnabled="{Binding IsInsert}" />
                                <custom:AutoCompleteComboBox
                                    Grid.Row="2"
                                    Grid.Column="0"
                                    Margin="0 2 10 2"
                                    Width="300"
                                    IsEditable="True"
                                    TextSearch.TextPath="DisplayItem"
                                    DisplayMemberPath="DisplayItem"
                                    SelectedValuePath="ValueItem"
                                    materialDesign:HintAssist.Hint="Hợp đồng"
                                    materialDesign:TextFieldAssist.HasClearButton="True"
                                    SelectedItem="{Binding HopDongSelected, UpdateSourceTrigger=PropertyChanged}"
                                    ItemsSource="{Binding DataHopDong}"
                                    Visibility="{Binding AgregateVisibility, UpdateSourceTrigger=PropertyChanged}"
                                    IsEnabled="{Binding IsInsert}" />
                                <TextBox
                                    Grid.Row="2"
                                    Grid.Column="1"
                                    Width="300"
                                    Margin="10 2 10 2"
                                    VerticalAlignment="Center"
                                    FontWeight="Bold"
                                    IsEnabled="{Binding IsInsert}"
                                    materialDesign:HintAssist.Hint="Giá trị hợp đồng"
                                    Text="{Binding GiaTriHopDong, StringFormat={}{0:N0}}"
                                    Style="{StaticResource MaterialDesignFloatingHintTextBox}" />

                                <custom:AutoCompleteComboBox
                                    Grid.Row="2"
                                    Grid.Column="2"
                                    Width="300"
                                    Margin="0 2 10 2"
                                    IsEditable="True"
                                    TextSearch.TextPath="STenNhaThau"
                                    DisplayMemberPath="STenNhaThau"
                                    materialDesign:HintAssist.Hint="Nhà thầu"
                                    materialDesign:TextFieldAssist.HasClearButton="True"
                                    SelectedItem="{Binding NhaThauSelected, UpdateSourceTrigger=PropertyChanged}"
                                    ItemsSource="{Binding NhaThauItems}"
                                    Visibility="{Binding AgregateVisibility, UpdateSourceTrigger=PropertyChanged}"
                                    IsEnabled="{Binding IsInsert}" />
                                <custom:AutoCompleteComboBox
                                    Grid.Row="2"
                                    Grid.Column="3"
                                    Margin="0 2 10 2"
                                    Width="300"
                                    IsEditable="True"
                                    TextSearch.TextPath="STenNhaThau"
                                    DisplayMemberPath="STenNhaThau"
                                    materialDesign:HintAssist.Hint="Đơn vị thụ hưởng"
                                    materialDesign:TextFieldAssist.HasClearButton="True"
                                    SelectedItem="{Binding NhaThauSelected, UpdateSourceTrigger=PropertyChanged}"
                                    ItemsSource="{Binding NhaThauItems}"
                                    Visibility="{Binding AgregateVisibility, UpdateSourceTrigger=PropertyChanged}"
                                    IsEnabled="{Binding IsInsert}" />
                                <TextBox
                                    Grid.Row="2"
                                    Grid.Column="4"
                                    Width="300"
                                    Margin="0 2 10 2"
                                    VerticalAlignment="Center"
                                    IsReadOnly="True"
                                    IsEnabled="False"
                                    materialDesign:HintAssist.Hint="Mã ngân hàng"
                                    Text="{Binding MaNganHang}"
                                    Style="{StaticResource MaterialDesignFloatingHintTextBox}" />
                                <TextBox
                                    Grid.Row="2"
                                    Grid.Column="5"
                                    Width="300"
                                    Margin="0 2 10 2"
                                    VerticalAlignment="Center"
                                    IsEnabled="False"
                                    materialDesign:HintAssist.Hint="Số tài khoản"
                                    Text="{Binding StkNhaThau}"
                                    Style="{StaticResource MaterialDesignFloatingHintTextBox}" />

                                <custom:AutoCompleteComboBox
                                    Grid.Row="4"
                                    Grid.Column="0"
                                    Width="300"
                                    Margin="0 2 10 2"
                                    IsEditable="True"
                                    TextSearch.TextPath="DisplayItem"
                                    DisplayMemberPath="DisplayItem"
                                    SelectedValuePath="ValueItem"
                                    materialDesign:HintAssist.Hint="Cơ quan thanh toán"
                                    materialDesign:TextFieldAssist.HasClearButton="True"
                                    SelectedItem="{Binding CoQuanThanhToanSelected, UpdateSourceTrigger=PropertyChanged}"
                                    ItemsSource="{Binding DataCoQuanThanhToan}"
                                    Visibility="{Binding AgregateVisibility, UpdateSourceTrigger=PropertyChanged}"
                                    IsEnabled="{Binding IsInsert}" />
                                <TextBox
                                    Grid.Row="4"
                                    Grid.Column="1"
                                    Width="300"
                                    Margin="0 2 10 2"
                                    materialDesign:HintAssist.Hint="Người lập"
                                    IsEnabled="{Binding IsInsert}"
                                    Text="{Binding Model.sNguoiLap}"
                                    VerticalAlignment="Center"
                                    Style="{StaticResource MaterialDesignFloatingHintTextBox}" />

                                <TextBox
                                    Grid.Row="5"
                                    Grid.Column="0"
                                    Width="300"
                                    Margin="0 2 10 2"
                                    VerticalAlignment="Center"
                                    IsReadOnly="True"
                                    FontWeight="Bold"
                                    materialDesign:HintAssist.Hint="Lũy kế thanh toán KLHT vốn trong nước"
                                    Text="{Binding LuyKeThanhToanKLHTVonTN, StringFormat={}{0:N0}}"
                                    Style="{StaticResource MaterialDesignFloatingHintTextBox}" />
                                <TextBox
                                    Grid.Row="5"
                                    Grid.Column="1"
                                    Width="300"
                                    Margin="0 2 10 2"
                                    IsReadOnly="True"
                                    FontWeight="Bold"
                                    VerticalAlignment="Center"
                                    materialDesign:HintAssist.Hint="Lũy kế thanh toán KLHT vốn ngoài nước"
                                    Text="{Binding LuyKeThanhToanKLHTVonNN, StringFormat={}{0:N0}}"
                                    Style="{StaticResource MaterialDesignFloatingHintTextBox}" />
                                <CheckBox
                                    Grid.Row="5"
                                    Grid.Column="2"
                                    IsChecked="{Binding BHoanTraUngTruoc, UpdateSourceTrigger=PropertyChanged}"
                                    x:Name="MaterialDesignFilledTextBoxEnabledComboBox"
                                    Content="{Binding SHoanTraUngTruoc}" />

                                <StackPanel
                                    Grid.Row="6"
                                    Grid.ColumnSpan="4"
                                    Orientation="Horizontal">
                                    <TextBlock
                                        FontWeight="Bold">Lũy kế tạm ứng chưa thu hồi</TextBlock>
                                </StackPanel>

                                <TextBox
                                    Grid.Row="7"
                                    Grid.Column="0"
                                    Width="300"
                                    Margin="0 2 10 2"
                                    VerticalAlignment="Center"
                                    IsReadOnly="True"
                                    FontWeight="Bold"
                                    materialDesign:HintAssist.Hint="Vốn trong nước (ứng trước)"
                                    Text="{Binding LuyKeTamUngChuaThuHoiVonUngTruocTN, StringFormat={}{0:N0}}"
                                    Style="{StaticResource MaterialDesignFloatingHintTextBox}" />
                                <TextBox
                                    Grid.Row="7"
                                    Grid.Column="1"
                                    Width="300"
                                    Margin="0 2 10 2"
                                    IsReadOnly="True"
                                    FontWeight="Bold"
                                    VerticalAlignment="Center"
                                    materialDesign:HintAssist.Hint="Vốn ngoài nước (ứng trước)"
                                    Text="{Binding LuyKeTamUngChuaThuHoiVonUngTruocNN, StringFormat={}{0:N0}}"
                                    Style="{StaticResource MaterialDesignFloatingHintTextBox}" />
                                <TextBox
                                    Grid.Row="8"
                                    Grid.Column="0"
                                    Width="300"
                                    Margin="0 2 10 2"
                                    VerticalAlignment="Center"
                                    IsReadOnly="True"
                                    FontWeight="Bold"
                                    materialDesign:HintAssist.Hint="Vốn trong nước (theo chế độ)"
                                    Text="{Binding LuyKeTamUngChuaThuHoiVonTN, StringFormat={}{0:N0}}"
                                    Style="{StaticResource MaterialDesignFloatingHintTextBox}" />
                                <TextBox
                                    Grid.Row="8"
                                    Grid.Column="1"
                                    Width="300"
                                    Margin="0 2 10 2"
                                    IsReadOnly="True"
                                    FontWeight="Bold"
                                    VerticalAlignment="Center"
                                    materialDesign:HintAssist.Hint="Vốn ngoài nước (theo chế độ)"
                                    Text="{Binding LuyKeTamUngChuaThuHoiVonNN, StringFormat={}{0:N0}}"
                                    Style="{StaticResource MaterialDesignFloatingHintTextBox}" />

                                <component:ExpandedDataGrid
                                    Grid.Row="5"
                                    Grid.Column="4"
                                    Grid.ColumnSpan="2"
                                    Grid.RowSpan="5"
                                    x:Name="dgdPheDuyetThanhToanDialog"
                                    FrozenColumnCount="2"
                                    BorderThickness="1"
                                    CanUserResizeColumns="True"
                                    HorizontalScrollBarVisibility="Visible"
                                    VerticalScrollBarVisibility="Auto"
                                    CanUserAddRows="False"
                                    IsSynchronizedWithCurrentItem="True"
                                    GridLinesVisibility="All"
                                    RowStyle="{StaticResource DataGridRowIndex}"
                                    Style="{StaticResource MaterialDesignDataGrid}"
                                    ItemsSource="{Binding ListKeHoachVon, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                                    ext:DataGridBehavior.LastColumnFill="False"
                                    AutoGenerateColumns="False">
                                    <DataGrid.Resources>
                                        <helper:BindingProxy
                                            x:Key="DataContextProxy"
                                            Data="{Binding}" />
                                    </DataGrid.Resources>
                                    <DataGrid.Columns>
                                        <DataGridCheckBoxColumn
                                            IsReadOnly="False"
                                            Binding="{Binding IsChecked,UpdateSourceTrigger=PropertyChanged}"
                                            ElementStyle="{StaticResource MaterialDesignDataGridCheckBoxColumnStyle}"
                                            EditingElementStyle="{StaticResource MaterialDesignDataGridCheckBoxColumnEditingStyle}">
                                            <DataGridCheckBoxColumn.HeaderStyle>
                                                <Style
                                                    TargetType="{x:Type DataGridColumnHeader}"
                                                    BasedOn="{StaticResource MaterialDesignDataGridColumnHeader}">
                                                    <Setter
                                                        Property="HorizontalContentAlignment"
                                                        Value="Center" />
                                                </Style>
                                            </DataGridCheckBoxColumn.HeaderStyle>
                                        </DataGridCheckBoxColumn>
                                        <DataGridTextColumn
                                            Header="Tên loại"
                                            IsReadOnly="True"
                                            Binding="{Binding TenLoai}"></DataGridTextColumn>
                                        <DataGridTextColumn
                                            Header="Số quyết định"
                                            IsReadOnly="True"
                                            Binding="{Binding SSoQuyetDinh}"></DataGridTextColumn>
                                        <DataGridTextColumn
                                            ElementStyle="{StaticResource DataGridTextColumnCenterStyle}"
                                            IsReadOnly="True"
                                            Header="Ngày quyết định"
                                            Binding="{Binding DNgayQuyetDinh, Converter={StaticResource DateTimeToStringConverter}}"></DataGridTextColumn>
                                        <DataGridTextColumn
                                            Header="Vốn bố trí"
                                            IsReadOnly="True"
                                            ElementStyle="{StaticResource DataGridTextColumnDetailRightStyle}"
                                            Binding="{Binding FTongGiaTri, StringFormat={}{0:N0}, Converter={StaticResource NumberToStringEmptyConverter}, UpdateSourceTrigger=LostFocus}"></DataGridTextColumn>
                                    </DataGrid.Columns>
                                </component:ExpandedDataGrid>
                            </Grid>

                            <Grid
                                Grid.Row="1"
                                Grid.ColumnSpan="2">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition
                                        Width="*" />
                                    <ColumnDefinition
                                        Width="*" />
                                    <ColumnDefinition
                                        Width="*" />
                                    <ColumnDefinition
                                        Width="*" />
                                </Grid.ColumnDefinitions>

                                <Grid
                                    Grid.Column="0">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition
                                            Width="*" />
                                        <ColumnDefinition
                                            Width="*" />
                                    </Grid.ColumnDefinitions>
                                    <Grid.RowDefinitions>
                                        <RowDefinition
                                            Height="auto" />
                                        <RowDefinition
                                            Height="auto" />
                                        <RowDefinition
                                            Height="auto" />
                                        <RowDefinition
                                            Height="auto" />
                                        <RowDefinition
                                            Height="auto" />
                                        <RowDefinition
                                            Height="auto" />
                                        <RowDefinition
                                            Height="auto" />
                                        <RowDefinition
                                            Height="auto" />
                                        <RowDefinition
                                            Height="auto" />
                                        <RowDefinition
                                            Height="auto" />
                                        <RowDefinition
                                            Height="auto" />
                                    </Grid.RowDefinitions>

                                    <StackPanel
                                        Grid.Row="0"
                                        Grid.ColumnSpan="2">
                                        <TextBlock
                                            FontWeight="Bold">THÔNG TIN ĐỀ NGHỊ</TextBlock>
                                    </StackPanel>

                                    <TextBox
                                        Grid.Row="1"
                                        Grid.Column="0"
                                        Width="300"
                                        Margin="0 2 10 2"
                                        VerticalAlignment="Center"
                                        materialDesign:HintAssist.Hint="Số đề nghị"
                                        IsEnabled="False"
                                        Text="{Binding Model.sSoDeNghi}"
                                        Style="{StaticResource MaterialDesignFloatingHintTextBox}" />
                                    <DatePicker
                                        Grid.Row="1"
                                        Grid.Column="1"
                                        Language="vi-VN"
                                        Width="300"
                                        Margin="0 2 10 2"
                                        materialDesign:HintAssist.Hint="Ngày đề nghị"
                                        SelectedDate="{Binding DNgayDeNghi}"
                                        Style="{StaticResource MaterialDesignFloatingHintDatePicker}" />

                                    <TextBox
                                        Grid.Row="2"
                                        Grid.Column="0"
                                        Margin="0 2 10 2"
                                        Width="300"
                                        materialDesign:HintAssist.Hint="Năm kế hoạch"
                                        IsEnabled="{Binding IsInsert}"
                                        Text="{Binding INamKeHoach}"
                                        VerticalAlignment="Center"
                                        Style="{StaticResource MaterialDesignFloatingHintTextBox}" />

                                    <TextBox
                                        Grid.Row="3"
                                        Grid.ColumnSpan="2"
                                        Width="610"
                                        Margin="0 2 10 2"
                                        VerticalAlignment="Center"
                                        materialDesign:HintAssist.Hint="Nội dung"
                                        Text="{Binding Model.sGhiChu}"
                                        TextWrapping="Wrap"
                                        Height="80"
                                        VerticalScrollBarVisibility="Auto" />

                                    <StackPanel
                                        Grid.Row="4"
                                        Grid.ColumnSpan="2">
                                        <TextBlock
                                            FontWeight="Bold">Số tạm ứng, thanh toán KLHT</TextBlock>
                                    </StackPanel>

                                    <TextBox
                                        Grid.Row="5"
                                        Grid.Column="0"
                                        Width="300"
                                        Margin="0 2 10 2"
                                        VerticalAlignment="Center"
                                        materialDesign:HintAssist.Hint="Vốn trong nước"
                                        Text="{Binding Model.fGiaTriThanhToanTN, UpdateSourceTrigger=PropertyChanged, StringFormat={}{0:N0}, Converter={StaticResource NumberToStringEmptyConverter}}"
                                        Style="{StaticResource MaterialDesignFloatingHintTextBox}" />
                                    <TextBox
                                        Grid.Row="5"
                                        Grid.Column="1"
                                        Width="300"
                                        Margin="0 2 10 2"
                                        VerticalAlignment="Center"
                                        materialDesign:HintAssist.Hint="Vốn ngoài nước"
                                        Text="{Binding Model.fGiaTriThanhToanNN, UpdateSourceTrigger=PropertyChanged, StringFormat={}{0:N0}, Converter={StaticResource NumberToStringEmptyConverter}}"
                                        Style="{StaticResource MaterialDesignFloatingHintTextBox}" />

                                    <StackPanel
                                        Grid.Row="6"
                                        Grid.ColumnSpan="2"
                                        Visibility="{Binding ShowThuHoiTamUngUngTruoc, Converter={StaticResource BooleanToVisibilityConverter}}">
                                        <TextBlock
                                            FontWeight="Bold">Số thu hồi tạm ứng</TextBlock>
                                    </StackPanel>

                                    <TextBox
                                        Visibility="{Binding ShowThuHoiTamUngUngTruoc, Converter={StaticResource BooleanToVisibilityConverter}}"
                                        Grid.Row="7"
                                        Grid.Column="0"
                                        Width="300"
                                        Margin="0 2 10 2"
                                        VerticalAlignment="Center"
                                        materialDesign:HintAssist.Hint="Vốn trong nước (ứng trước)"
                                        Text="{Binding Model.FGiaTriThuHoiUngTruocTn, UpdateSourceTrigger=PropertyChanged, StringFormat={}{0:N0}, Converter={StaticResource NumberToStringEmptyConverter}}"
                                        Style="{StaticResource MaterialDesignFloatingHintTextBox}" />
                                    <TextBox
                                        Visibility="{Binding ShowThuHoiTamUngUngTruoc, Converter={StaticResource BooleanToVisibilityConverter}}"
                                        Grid.Row="7"
                                        Grid.Column="1"
                                        Width="300"
                                        Margin="0 2 10 2"
                                        VerticalAlignment="Center"
                                        materialDesign:HintAssist.Hint="Vốn ngoài nước (ứng trước)"
                                        Text="{Binding Model.FGiaTriThuHoiUngTruocNn, UpdateSourceTrigger=PropertyChanged, StringFormat={}{0:N0}, Converter={StaticResource NumberToStringEmptyConverter}}"
                                        Style="{StaticResource MaterialDesignFloatingHintTextBox}" />

                                    <TextBox
                                        Visibility="{Binding ShowThuHoiTamUng}"
                                        Grid.Row="8"
                                        Grid.Column="0"
                                        Width="300"
                                        Margin="0 2 10 2"
                                        VerticalAlignment="Center"
                                        materialDesign:HintAssist.Hint="Vốn trong nước (theo chế độ)"
                                        Text="{Binding Model.fGiaTriThuHoiTN, UpdateSourceTrigger=PropertyChanged, StringFormat={}{0:N0}, Converter={StaticResource NumberToStringEmptyConverter}}"
                                        Style="{StaticResource MaterialDesignFloatingHintTextBox}" />
                                    <TextBox
                                        Visibility="{Binding ShowThuHoiTamUng}"
                                        Grid.Row="8"
                                        Grid.Column="1"
                                        Width="300"
                                        Margin="0 2 10 2"
                                        VerticalAlignment="Center"
                                        materialDesign:HintAssist.Hint="Vốn ngoài nước (theo chế độ)"
                                        Text="{Binding Model.fGiaTriThuHoiNN, UpdateSourceTrigger=PropertyChanged, StringFormat={}{0:N0}, Converter={StaticResource NumberToStringEmptyConverter}}"
                                        Style="{StaticResource MaterialDesignFloatingHintTextBox}" />

                                    <TextBox
                                        Grid.Row="9"
                                        Grid.Column="0"
                                        Width="300"
                                        Margin="0 2 10 2"
                                        VerticalAlignment="Center"
                                        materialDesign:HintAssist.Hint="Thuế giá trị gia tăng"
                                        Text="{Binding Model.FThueGiaTriGiaTang, UpdateSourceTrigger=PropertyChanged, StringFormat={}{0:N0}, Converter={StaticResource NumberToStringEmptyConverter}}"
                                        Style="{StaticResource MaterialDesignFloatingHintTextBox}" />
                                    <TextBox
                                        Grid.Row="9"
                                        Grid.Column="1"
                                        Width="300"
                                        Margin="0 2 10 2"
                                        VerticalAlignment="Center"
                                        materialDesign:HintAssist.Hint="Chuyển tiền bảo hành"
                                        Text="{Binding Model.FChuyenTienBaoHanh, UpdateSourceTrigger=PropertyChanged, StringFormat={}{0:N0}, Converter={StaticResource NumberToStringEmptyConverter}}"
                                        Style="{StaticResource MaterialDesignFloatingHintTextBox}" />

                                    <component:AttachmentForm
                                        Grid.Row="10"
                                        Grid.ColumnSpan="2"
                                        Margin="4 10 4 10"
                                        Width="610" />
                                </Grid>
                                <Grid
                                    Grid.Column="1">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition
                                            Width="*" />
                                        <ColumnDefinition
                                            Width="*" />
                                    </Grid.ColumnDefinitions>
                                    <Grid.RowDefinitions>
                                        <RowDefinition
                                            Height="auto" />
                                        <RowDefinition
                                            Height="auto" />
                                        <RowDefinition
                                            Height="auto" />
                                        <RowDefinition
                                            Height="auto" />
                                        <RowDefinition
                                            Height="auto" />
                                        <RowDefinition
                                            Height="auto" />
                                        <RowDefinition
                                            Height="auto" />
                                        <RowDefinition
                                            Height="auto" />
                                        <RowDefinition
                                            Height="auto" />
                                        <RowDefinition
                                            Height="auto" />
                                        <RowDefinition
                                            Height="auto" />
                                        <RowDefinition
                                            Height="auto" />
                                        <RowDefinition
                                            Height="auto" />
                                    </Grid.RowDefinitions>

                                    <StackPanel
                                        Grid.Row="0"
                                        Margin="20 0 0 0"                                        
                                        Grid.ColumnSpan="2">
                                        <TextBlock
                                            FontWeight="Bold">THÔNG TIN PHÊ DUYỆT</TextBlock>
                                    </StackPanel>

                                    <DatePicker
                                        Grid.Row="1"
                                        Grid.Column="0"
                                        IsEnabled="False"
                                        Language="vi-VN"
                                        Width="300"
                                        Margin="20 2 10 2"
                                        materialDesign:HintAssist.Hint="Ngày phê duyệt"
                                        SelectedDate="{Binding DNgayPheDuyet}"
                                        Style="{StaticResource MaterialDesignFloatingHintDatePicker}" />

                                    <TextBox
                                        Grid.Row="2"
                                        Grid.ColumnSpan="2"
                                        Width="610"
                                        IsEnabled="False"
                                        Margin="20 2 10 2"
                                        VerticalAlignment="Center"
                                        materialDesign:HintAssist.Hint="Nội dung"
                                        Text="{Binding Model.SGhiChuPheDuyet}"
                                        TextWrapping="Wrap"
                                        Height="80"
                                        VerticalScrollBarVisibility="Auto" />


                                    <StackPanel
                                        Grid.Row="3"
                                        Margin="20 0 0 0"                                        
                                        Grid.ColumnSpan="2">
                                        <TextBlock
                                            FontWeight="Bold">Số tạm ứng, thanh toán KLHT</TextBlock>
                                    </StackPanel>

                                    <TextBox
                                        Grid.Row="4"
                                        Grid.Column="0"
                                        Width="300"
                                        Margin="20 2 10 2"
                                        IsEnabled="False"
                                        VerticalAlignment="Center"
                                        materialDesign:HintAssist.Hint="Vốn trong nước"
                                        Text="{Binding FGiaTriThanhToanPheDuyetTN, UpdateSourceTrigger=PropertyChanged, StringFormat={}{0:N0}, Converter={StaticResource NumberToStringEmptyConverter}}"
                                        Style="{StaticResource MaterialDesignFloatingHintTextBox}" />
                                    <TextBox
                                        Grid.Row="4"
                                        Grid.Column="1"
                                        Width="300"
                                        Margin="0 2 10 2"
                                        IsEnabled="False"
                                        VerticalAlignment="Center"
                                        materialDesign:HintAssist.Hint="Vốn ngoài nước"
                                        Text="{Binding FGiaTriThanhToanPheDuyetNN, UpdateSourceTrigger=PropertyChanged, StringFormat={}{0:N0}, Converter={StaticResource NumberToStringEmptyConverter}}"
                                        Style="{StaticResource MaterialDesignFloatingHintTextBox}" />

                                    <StackPanel
                                        Visibility="{Binding ShowThuHoiTamUngUngTruoc, Converter={StaticResource BooleanToVisibilityConverter}}"
                                        Grid.Row="5"
                                        Margin="20 0 0 0"
                                        Grid.ColumnSpan="2">
                                        <TextBlock
                                            FontWeight="Bold">Số thu hồi tạm ứng</TextBlock>
                                    </StackPanel>

                                    <TextBox
                                        Visibility="{Binding ShowThuHoiTamUngUngTruoc, Converter={StaticResource BooleanToVisibilityConverter}}"
                                        Grid.Row="6"
                                        Grid.Column="0"
                                        Width="300"
                                        Margin="20 2 10 2"
                                        IsEnabled="False"
                                        VerticalAlignment="Center"
                                        materialDesign:HintAssist.Hint="Vốn trong nước (ứng trước)"
                                        Text="{Binding FGiaTriThuHoiPheDuyetTN, UpdateSourceTrigger=PropertyChanged, StringFormat={}{0:N0}, Converter={StaticResource NumberToStringEmptyConverter}}"
                                        Style="{StaticResource MaterialDesignFloatingHintTextBox}" />
                                    <TextBox
                                        Visibility="{Binding ShowThuHoiTamUngUngTruoc, Converter={StaticResource BooleanToVisibilityConverter}}"
                                        Grid.Row="6"
                                        Grid.Column="1"
                                        Width="300"
                                        Margin="0 2 10 2"
                                        IsEnabled="False"
                                        VerticalAlignment="Center"
                                        materialDesign:HintAssist.Hint="Vốn ngoài nước (ứng trước)"
                                        Text="{Binding FGiaTriThuHoiPheDuyetNN, UpdateSourceTrigger=PropertyChanged, StringFormat={}{0:N0}, Converter={StaticResource NumberToStringEmptyConverter}}"
                                        Style="{StaticResource MaterialDesignFloatingHintTextBox}" />

                                    <TextBox
                                        Visibility="{Binding ShowThuHoiTamUng}"
                                        Grid.Row="7"
                                        Grid.Column="0"
                                        Width="300"
                                        Margin="20 2 10 2"
                                        IsEnabled="False"
                                        VerticalAlignment="Center"
                                        materialDesign:HintAssist.Hint="Vốn trong nước (theo chế độ)"
                                        Text="{Binding FGiaTriThuHoiPheDuyetTN, UpdateSourceTrigger=PropertyChanged, StringFormat={}{0:N0}, Converter={StaticResource NumberToStringEmptyConverter}}"
                                        Style="{StaticResource MaterialDesignFloatingHintTextBox}" />
                                    <TextBox
                                        Visibility="{Binding ShowThuHoiTamUng}"
                                        Grid.Row="7"
                                        Grid.Column="1"
                                        Width="300"
                                        Margin="0 2 10 2"
                                        IsEnabled="False"
                                        VerticalAlignment="Center"
                                        materialDesign:HintAssist.Hint="Vốn ngoài nước (theo chế độ)"
                                        Text="{Binding FGiaTriThuHoiPheDuyetNN, UpdateSourceTrigger=PropertyChanged, StringFormat={}{0:N0}, Converter={StaticResource NumberToStringEmptyConverter}}"
                                        Style="{StaticResource MaterialDesignFloatingHintTextBox}" />

                                    <TextBox
                                        Grid.Row="8"
                                        Grid.Column="0"
                                        Width="300"
                                        Margin="20 2 10 2"
                                        IsEnabled="False"
                                        VerticalAlignment="Center"
                                        materialDesign:HintAssist.Hint="Thuế giá trị gia tăng"
                                        Text="{Binding Model.FThueGiaTriGiaTangDuocDuyet, UpdateSourceTrigger=PropertyChanged, StringFormat={}{0:N0}, Converter={StaticResource NumberToStringEmptyConverter}}"
                                        Style="{StaticResource MaterialDesignFloatingHintTextBox}" />
                                    <TextBox
                                        Grid.Row="8"
                                        Grid.Column="1"
                                        Width="300"
                                        Margin="0 2 10 2"
                                        IsEnabled="False"
                                        VerticalAlignment="Center"
                                        materialDesign:HintAssist.Hint="Chuyển tiền bảo hành"
                                        Text="{Binding Model.FChuyenTienBaoHanhDuocDuyet, UpdateSourceTrigger=PropertyChanged, StringFormat={}{0:N0}, Converter={StaticResource NumberToStringEmptyConverter}}"
                                        Style="{StaticResource MaterialDesignFloatingHintTextBox}" />
                                </Grid>
                            </Grid>
                        </Grid>
                    </Grid>
                </Grid>
            </ScrollViewer>

            <StackPanel
                Orientation="Horizontal"
                Margin="0 15 0 0"
                HorizontalAlignment="Right"
                Grid.Row="1">
                <Button
                    IsDefault="True"
                    Margin="5 0 0 0"
                    Style="{StaticResource MaterialDesignRaisedButton}"
                    CommandParameter="{Binding RelativeSource={RelativeSource FindAncestor, AncestorType={x:Type Window}}}"
                    Command="{Binding SaveCommand}">
                    <StackPanel
                        Orientation="Horizontal">
                        <materialDesign:PackIcon
                            Kind="ContentSave" />
                        <TextBlock
                            Style="{StaticResource SearchBarBtnTextStyle}">Lưu dữ liệu</TextBlock>
                    </StackPanel>
                </Button>
                <Button
                    IsCancel="True"
                    Margin="5 0 0 0"
                    Style="{StaticResource MaterialDesignOutlinedButton}"
                    Command="{x:Static wpf:DialogHost.CloseDialogCommand}">
                    <StackPanel
                        Orientation="Horizontal">
                        <materialDesign:PackIcon
                            Kind="CloseOutline" />
                        <TextBlock
                            Style="{StaticResource SearchBarBtnTextStyle}">Đóng</TextBlock>
                    </StackPanel>
                    <Button.CommandParameter>
                        <system:Boolean>False</system:Boolean>
                    </Button.CommandParameter>
                </Button>
            </StackPanel>
        </Grid>
    </materialDesign:DialogHost>
</Window>
