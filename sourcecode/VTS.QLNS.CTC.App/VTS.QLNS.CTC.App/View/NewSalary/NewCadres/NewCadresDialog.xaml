<Window x:Class="VTS.QLNS.CTC.App.View.NewSalary.NewCadres.NewCadresDialog"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:VTS.QLNS.CTC.App.View.NewSalary.NewCadres"
        xmlns:materialDesign="http://materialdesigninxaml.net/winfx/xaml/themes"
        xmlns:wpf="clr-namespace:MaterialDesignThemes.Wpf;assembly=MaterialDesignThemes.Wpf"
        xmlns:system="clr-namespace:System;assembly=mscorlib"
        xmlns:converters="clr-namespace:VTS.QLNS.CTC.App.Converters"
        xmlns:helper="clr-namespace:VTS.QLNS.CTC.App.Helper"
        xmlns:extensions="clr-namespace:VTS.QLNS.CTC.App.Extensions"
        xmlns:component="clr-namespace:VTS.QLNS.CTC.App.Component"
        xmlns:custom="clr-namespace:VTS.QLNS.CTC.Custom;assembly=VTS.QLNS.CTC.Custom"
        xmlns:utility="clr-namespace:VTS.QLNS.CTC.Utility;assembly=VTS.QLNS.CTC.Utility"
        Style="{StaticResource MaterialDesignWindow}"
        WindowState="Maximized"
        x:Name="DetailWindow"
        Height="946"
        Title="{Binding Title}"
        KeyDown="DetailWindow_KeyDown">
    <Window.InputBindings>
        <KeyBinding Key="F10"
                    Command="{Binding SaveDataCommand}" />
        <KeyBinding Key="F2"
                    Command="{Binding SuaCommand}" />
        <KeyBinding Gesture="Ctrl+F10"
                    Command="{Binding SaveAndCloseCommand}"
                    CommandParameter="{Binding ElementName=DetailWindow}" />
        <KeyBinding Gesture="Alt+F10"
                    Command="{Binding SaveAndCopyCommand}" />
    </Window.InputBindings>
    <materialDesign:DialogHost Identifier="CadresDetail"
                               DialogTheme="Inherit">
        <Grid Margin="16"
              helper:EnterKeyTraversal.IsEnabled="True">
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto" />
                <RowDefinition Height="Auto" />
                <RowDefinition Height="*" />
            </Grid.RowDefinitions>
            <StackPanel Grid.Row="0"
                        Orientation="Vertical"
                        Grid.ColumnSpan="4">
                <DockPanel>
                    <StackPanel DockPanel.Dock="Left"
                                Orientation="Horizontal">
                        <materialDesign:PackIcon Kind="AccountDetails"
                                                 Style="{StaticResource DialogScreenIconStyle}" />
                        <StackPanel Orientation="Vertical">
                            <TextBlock Text="{Binding Title}"
                                       FontWeight="Bold" />
                            <TextBlock Text="{Binding Description}" />
                        </StackPanel>
                    </StackPanel>
                </DockPanel>
                <Separator Background="{StaticResource MaterialDesignDivider}"
                           Margin="0 5 0 0" />
            </StackPanel>

            <ScrollViewer HorizontalScrollBarVisibility="Auto"
                          VerticalScrollBarVisibility="Disabled"
                          Margin="0 5 0 0"
                          Grid.Row="1"
                          Grid.ColumnSpan="4">
                <StackPanel>
                    <StackPanel Orientation="Horizontal">
                        <Button Style="{StaticResource SearchBarBtnStyle}"
                                ToolTip="Refresh"
                                Command="{Binding RefreshCommand}">
                            <StackPanel Orientation="Horizontal">
                                <materialDesign:PackIcon Kind="Refresh" />
                                <TextBlock Style="{StaticResource SearchBarBtnTextStyle}"
                                           Text="(F5)" />
                            </StackPanel>
                        </Button>
                        <Separator Style="{StaticResource SearchBarHorizontalDividerStyle}"
                                   Visibility="{Binding IsEditVisibility, Converter={StaticResource BooleanToVisibilityConverter}}" />
                        <Button extensions:Permission.Identifier="NEW_SALARY_CADRES_DETAIL_EDIT"
                                Style="{StaticResource SearchBarBtnStyle}"
                                Visibility="{Binding IsEditVisibility, Converter={StaticResource BooleanToVisibilityConverter}}"
                                Command="{Binding SuaCommand}"
                                IsEnabled="{Binding IsReadOnly}">
                            <StackPanel Orientation="Horizontal">
                                <materialDesign:PackIcon Kind="AccountEdit" />
                                <TextBlock Style="{StaticResource SearchBarBtnTextStyle}"
                                           Text="Sửa (F2)">
                                </TextBlock>
                            </StackPanel>
                        </Button>
                        <Separator Style="{StaticResource SearchBarHorizontalDividerStyle}" />
                        <Button extensions:Permission.Identifier="NEW_SALARY_CADRES_DETAIL_SAVE"
                                Style="{StaticResource SearchBarBtnStyle}"
                                IsEnabled="{Binding IsReadOnly, Converter={StaticResource InvertBooleanConverter}}"
                                Command="{Binding SaveDataCommand}"
                                IsDefault="True"
                                Margin="5 0 0 0">
                            <StackPanel Orientation="Horizontal">
                                <materialDesign:PackIcon Kind="ContentSave" />
                                <TextBlock Style="{StaticResource SearchBarBtnTextStyle}"
                                           Text="Lưu dữ liệu (F10)">
                                </TextBlock>
                            </StackPanel>
                        </Button>
                        <Separator Style="{StaticResource SearchBarHorizontalDividerStyle}" />
                        <Button extensions:Permission.Identifier="NEW_SALARY_CADRES_DETAIL_SAVE_AND_CLOSE"
                                Style="{StaticResource SearchBarBtnStyle}"
                                IsEnabled="{Binding IsReadOnly, Converter={StaticResource InvertBooleanConverter}}"
                                Command="{Binding SaveAndCloseCommand}"
                                CommandParameter="{Binding ElementName=DetailWindow}"
                                IsDefault="True"
                                Margin="5 0 0 0">
                            <StackPanel Orientation="Horizontal">
                                <materialDesign:PackIcon Kind="ContentSave" />
                                <TextBlock Style="{StaticResource SearchBarBtnTextStyle}"
                                           Text="Lưu và đóng (Ctrl+F10)">
                                </TextBlock>
                            </StackPanel>
                        </Button>
                        <Separator Style="{StaticResource SearchBarHorizontalDividerStyle}"
                                   Visibility="{Binding IsAddVisibility, Converter={StaticResource BooleanToVisibilityConverter}}" />
                        <Button extensions:Permission.Identifier="NEW_SALARY_CADRES_DETAIL_SAVE_AND_COPY"
                                Visibility="{Binding IsAddVisibility, Converter={StaticResource BooleanToVisibilityConverter}}"
                                Style="{StaticResource SearchBarBtnStyle}"
                                IsEnabled="{Binding IsReadOnly, Converter={StaticResource InvertBooleanConverter}}"
                                Command="{Binding SaveAndCopyCommand}"
                                IsDefault="True"
                                Margin="5 0 0 0">
                            <StackPanel Orientation="Horizontal">
                                <materialDesign:PackIcon Kind="ContentSave" />
                                <TextBlock Style="{StaticResource SearchBarBtnTextStyle}"
                                           Text="Lưu và sao chép (Alt+F10)">
                                </TextBlock>
                            </StackPanel>
                        </Button>
                        <!--<Separator Style="{StaticResource SearchBarHorizontalDividerStyle}" />-->
                        <StackPanel Margin="10 0 0 0"
                                    HorizontalAlignment="Right"
                                    VerticalAlignment="Center"
                                    Orientation="Horizontal"
                                    Visibility="{Binding IsAddVisibility, Converter={StaticResource InvertBooleanToVisibilityConverter}}">
                            <Button Style="{StaticResource MaterialDesignOutlinedButton}"
                                    IsEnabled="{Binding BackEnabled}"
                                    Command="{Binding FirstCommand}">
                                <materialDesign:PackIcon Kind="SkipBackward" />
                            </Button>
                            <Button Margin="5 0 0 0"
                                    Style="{StaticResource MaterialDesignOutlinedButton}"
                                    IsEnabled="{Binding BackEnabled}"
                                    Command="{Binding PreviousCommand}">
                                <materialDesign:PackIcon Kind="SkipPrevious" />
                            </Button>
                            <Button Margin="5 0 0 0"
                                    Style="{StaticResource MaterialDesignOutlinedButton}"
                                    IsEnabled="{Binding NextEnabled}"
                                    Command="{Binding NextCommand}">
                                <materialDesign:PackIcon Kind="SkipNext" />
                            </Button>
                            <Button Margin="5 0 10 0"
                                    Style="{StaticResource MaterialDesignOutlinedButton}"
                                    IsEnabled="{Binding NextEnabled}"
                                    Command="{Binding LastCommand}">
                                <materialDesign:PackIcon Kind="SkipForward" />
                            </Button>
                            <!--<Separator Style="{StaticResource SearchBarHorizontalDividerStyle}" />-->
                            <StackPanel Visibility="{Binding IsLoading, Converter={StaticResource BooleanToVisibilityConverter}}"
                                        Orientation="Horizontal"
                                        HorizontalAlignment="Center">
                                <ProgressBar Height="25"
                                             Width="25"
                                             Value="35"
                                             IsIndeterminate="True"
                                             Style="{StaticResource MaterialDesignCircularProgressBar}" />
                                <!--<TextBlock FontWeight="SemiBold"
                                           Margin="5">Đang tải...</TextBlock>-->
                            </StackPanel>

                        </StackPanel>
                        <Button Margin="5 0 0 0"
                                Style="{StaticResource SearchBarBtnStyle}"
                                Visibility="{Binding IsAddVisibility, Converter={StaticResource BooleanToVisibilityConverter}}"
                                Command="{Binding CloseCommand}"
                                CommandParameter="{Binding ElementName=DetailWindow}">
                            <StackPanel Orientation="Horizontal">
                                <materialDesign:PackIcon Kind="CloseOutline" />
                                <TextBlock Style="{StaticResource SearchBarBtnTextStyle}">Đóng</TextBlock>
                            </StackPanel>
                        </Button>
                        <Grid Visibility="{Binding Visibility}"
                              Margin="180 0 0 0">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="465*" />
                                <ColumnDefinition Width="67*" />
                                <ColumnDefinition Width="64*" />
                                <ColumnDefinition Width="334*" />
                            </Grid.ColumnDefinitions>
                            <StackPanel x:Name="stSearch"
                                        Orientation="Horizontal"
                                        Margin="10 0 0 5">
                                <TextBox TabIndex="50"
                                         Style="{StaticResource MaterialDesignFloatingHintTextBox}"
                                         Width="150"
                                         materialDesign:HintAssist.Hint="Mã HL, PC"
                                         Text="{Binding SearchSoSoLuong}">
                                    <TextBox.InputBindings>
                                        <KeyBinding Command="{Binding SearchCanBoCommand}"
                                                    Key="Return" />
                                    </TextBox.InputBindings>
                                </TextBox>
                                <TextBox TabIndex="51"
                                         Margin="10 0 0 0"
                                         Style="{StaticResource MaterialDesignFloatingHintTextBox}"
                                         Width="150"
                                         materialDesign:HintAssist.Hint="Đối tượng HL, PC"
                                         Text="{Binding SearchDoiTuong}">
                                    <TextBox.InputBindings>
                                        <KeyBinding Command="{Binding SearchCanBoCommand}"
                                                    Key="Return" />
                                    </TextBox.InputBindings>
                                </TextBox>
                                <TextBox TabIndex="52"
                                         Margin="10 0 0 0"
                                         Style="{StaticResource MaterialDesignFloatingHintTextBox}"
                                         Width="150"
                                         materialDesign:HintAssist.Hint="Mã cấp bậc"
                                         Text="{Binding SearchCapBac}">
                                    <TextBox.InputBindings>
                                        <KeyBinding Command="{Binding SearchCanBoCommand}"
                                                    Key="Return" />
                                    </TextBox.InputBindings>
                                </TextBox>
                                <Button TabIndex="53"
                                        Margin="5 5 0 0"
                                        Style="{StaticResource SearchBarBtnStyle}"
                                        Command="{Binding SearchCanBoCommand}">
                                    <StackPanel Orientation="Horizontal">
                                        <materialDesign:PackIcon Kind="Search" />
                                        <TextBlock Style="{StaticResource SearchBarBtnTextStyle}"
                                                   Text="Tìm kiếm" />
                                        <materialDesign:PopupBox PlacementMode="BottomAndAlignRightEdges"
                                                                 StaysOpen="True"
                                                                 IsPopupOpen="{Binding IsPopupOpen, Mode=TwoWay}">
                                            <materialDesign:PopupBox.ToggleContent>
                                                <materialDesign:PackIcon Kind="MenuDown" />
                                            </materialDesign:PopupBox.ToggleContent>
                                            <StackPanel>
                                                <component:ExpandedDataGrid Width="{Binding ElementName=stSearch, Path=ActualWidth}"
                                                                            Margin="10"
                                                                            GridLinesVisibility="All"
                                                                            VerticalAlignment="Top"
                                                                            AutoGenerateColumns="False"
                                                                            CanUserResizeColumns="True"
                                                                            BorderThickness="1"
                                                                            HorizontalScrollBarVisibility="Auto"
                                                                            CanUserAddRows="False"
                                                                            ItemsSource="{Binding LstCanBo}"
                                                                            SelectedItem="{Binding SelectedCanBo}"
                                                                            IsReadOnly="True"
                                                                            RowStyle="{StaticResource DataGridRowDetail}"
                                                                            CellStyle="{StaticResource DataGridCellDetail}"
                                                                            Style="{StaticResource MaterialDesignDataGrid}">
                                                    <DataGrid.Columns>
                                                        <DataGridTextColumn Header="Mã hưởng lương, phụ cấp"
                                                                            Binding="{Binding MaCanBo}" />
                                                        <DataGridTextColumn Header="Tên cán bộ"
                                                                            Binding="{Binding TenCanBo}" />
                                                        <DataGridTextColumn Header="Cấp bậc"
                                                                            Binding="{Binding CapBac}" />
                                                        <DataGridTextColumn Header="Chức vụ"
                                                                            Binding="{Binding ChucVu}" />
                                                        <DataGridTextColumn Header="Năm thâm niên"
                                                                            Binding="{Binding NamTn}" />
                                                    </DataGrid.Columns>
                                                </component:ExpandedDataGrid>
                                                <Separator Background="{StaticResource MaterialDesignDivider}" />
                                                <StackPanel Orientation="Horizontal"
                                                            Margin="0 5 0 0"
                                                            HorizontalAlignment="Right">
                                                    <Button IsEnabled="{Binding ChooseEnabled}"
                                                            Margin="5 0 0 0"
                                                            Style="{StaticResource MaterialDesignRaisedButton}"
                                                            Command="{Binding ChooseCommand}">
                                                        <StackPanel Orientation="Horizontal">
                                                            <materialDesign:PackIcon Kind="ContentSave" />
                                                            <TextBlock Style="{StaticResource SearchBarBtnTextStyle}">Chọn đối tượng</TextBlock>
                                                        </StackPanel>
                                                    </Button>
                                                    <Button Command="{Binding CloseDatagridCommand}"
                                                            Margin="5 0 5 0"
                                                            Style="{StaticResource MaterialDesignOutlinedButton}">
                                                        <StackPanel Orientation="Horizontal">
                                                            <materialDesign:PackIcon Kind="CloseOutline" />
                                                            <TextBlock Style="{StaticResource SearchBarBtnTextStyle}">Đóng</TextBlock>
                                                        </StackPanel>
                                                    </Button>
                                                </StackPanel>
                                            </StackPanel>
                                        </materialDesign:PopupBox>
                                    </StackPanel>
                                </Button>
                            </StackPanel>
                        </Grid>
                    </StackPanel>
                    <Separator DockPanel.Dock="Top"
                               Background="{StaticResource MaterialDesignDivider}"
                               Margin="0 5 0 5"
                               Grid.ColumnSpan="4" />
                </StackPanel>
            </ScrollViewer>

            <Grid Grid.Row="2"
                  Margin="0 10 -30 0">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*" />
                    <ColumnDefinition Width="*" />
                </Grid.ColumnDefinitions>
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto" />
                    <RowDefinition Height="*" />
                </Grid.RowDefinitions>

                <Grid Grid.Row="0"
                      Grid.Column="0">
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto" />
                        <RowDefinition Height="Auto" />
                        <RowDefinition Height="Auto" />
                        <RowDefinition Height="Auto" />
                        <RowDefinition Height="Auto" />
                        <RowDefinition Height="Auto" />
                        <RowDefinition Height="*" />
                    </Grid.RowDefinitions>

                    <Grid Grid.Row="0"
                          Visibility="{Binding IsChecked, ElementName=RbLuongQuyetToanIndex, Converter={StaticResource BooleanToVisibilityConverter}}">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*" />
                            <ColumnDefinition Width="*" />
                            <ColumnDefinition Width="*" />
                            <ColumnDefinition Width="*" />
                        </Grid.ColumnDefinitions>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto" />
                            <RowDefinition Height="*" />
                        </Grid.RowDefinitions>

                        <Grid.Resources>
                            <Style TargetType="TextBox"
                                   BasedOn="{StaticResource MaterialDesignTextBox}">
                                <Setter Property="materialDesign:HintAssist.IsFloating"
                                        Value="True" />
                                <Setter Property="Margin"
                                        Value="10 5 0 0" />
                                <Setter Property="HorizontalAlignment"
                                        Value="Stretch" />
                                <Setter Property="VerticalAlignment"
                                        Value="Center" />
                                <Setter Property="materialDesign:HintAssist.FloatingScale"
                                        Value="0.8" />
                                <Setter Property="IsReadOnly"
                                        Value="{Binding IsReadOnly}" />
                            </Style>
                            <Style TargetType="DatePicker"
                                   BasedOn="{StaticResource MaterialDesignFloatingHintDatePicker}">
                                <Setter Property="materialDesign:HintAssist.IsFloating"
                                        Value="True" />
                                <Setter Property="Margin"
                                        Value="10 5 0 0" />
                                <Setter Property="HorizontalAlignment"
                                        Value="Stretch" />
                                <Setter Property="VerticalAlignment"
                                        Value="Center" />
                                <Setter Property="materialDesign:HintAssist.FloatingScale"
                                        Value="0.8" />
                                <Setter Property="IsEnabled"
                                        Value="{Binding IsReadOnly, Converter={StaticResource InvertBooleanConverter}}" />
                            </Style>
                            <Style TargetType="ComboBox"
                                   BasedOn="{StaticResource MaterialDesignFloatingHintComboBox}">
                                <Setter Property="materialDesign:HintAssist.IsFloating"
                                        Value="True" />
                                <Setter Property="Margin"
                                        Value="10 5 0 0" />
                                <Setter Property="HorizontalAlignment"
                                        Value="Stretch" />
                                <Setter Property="VerticalAlignment"
                                        Value="Center" />
                                <Setter Property="materialDesign:HintAssist.FloatingScale"
                                        Value="0.8" />
                                <Setter Property="IsEditable"
                                        Value="True" />
                                <Setter Property="IsEnabled"
                                        Value="{Binding IsReadOnly, Converter={StaticResource InvertBooleanConverter}}" />
                            </Style>
                        </Grid.Resources>

                        <Grid Grid.Column="0">

                            <TextBlock Margin="10 10 0 0"
                                       Grid.Column="1"
                                       x:Name="ThongTinChung"
                                       FontWeight="Bold"
                                       Text="Thông tin chung"
                                       extensions:TextBlockTransform.CharacterCasing="Upper" />
                        </Grid>

                        <StackPanel Grid.Row="1"
                                    Grid.Column="0"
                                    Visibility="{Binding IsVisibleCommonInfo, Converter={StaticResource InverseBoolToVisConverter}}">
                            <ComboBox TabIndex="1"
                                      materialDesign:HintAssist.Hint="Chọn đơn vị"
                                      ItemsSource="{Binding DonViItems}"
                                      SelectedItem="{Binding SelectedDonVi}"
                                      IsEditable="True"
                                      TextSearch.TextPath="TenDonVi"
                                      DisplayMemberPath="MaTenDonVi" />
                            <DatePicker Language="vi-VN"
                                        TabIndex="2"
                                        materialDesign:HintAssist.Hint="Ngày nhập ngũ"
                                        SelectedDate="{Binding NgayNhapNgu}" />
                            <TextBox TabIndex="3"
                                     materialDesign:HintAssist.Hint="Năm thâm niên nghề"
                                     IsReadOnly="True"
                                     Text="{Binding NamThamNien}" />
                        </StackPanel>

                        <StackPanel Grid.Row="1"
                                    Grid.Column="1"
                                    Visibility="{Binding IsVisibleCommonInfo, Converter={StaticResource InverseBoolToVisConverter}}">
                            <TextBox TabIndex="1"
                                     materialDesign:HintAssist.Hint="Tên đối tượng hưởng lương, phụ cấp"
                                     Text="{Binding Model.TenCanBo}" />
                            <DatePicker Language="vi-VN"
                                        TabIndex="2"
                                        materialDesign:HintAssist.Hint="Ngày xuất ngũ"
                                        SelectedDate="{Binding NgayXuatNgu}" />
                            <TextBox TabIndex="3"
                                     materialDesign:HintAssist.Hint="Số người phụ thuộc"
                                     Text="{Binding SoNguoiPhuThuoc, Converter={StaticResource NumberDecimalToStringEmptyConverter}, StringFormat=N0}" />
                        </StackPanel>

                        <StackPanel Grid.Row="1"
                                    Grid.Column="2"
                                    Visibility="{Binding IsVisibleCommonInfo, Converter={StaticResource InverseBoolToVisConverter}}">
                            <TextBox TabIndex="1"
                                     IsReadOnly="True"
                                     materialDesign:HintAssist.Hint="Mã hưởng lương, phụ cấp"
                                     Text="{Binding Model.MaCanBo}" />
                            <DatePicker Language="vi-VN"
                                        TabIndex="2"
                                        materialDesign:HintAssist.Hint="Ngày tái ngũ"
                                        SelectedDate="{Binding NgayTaiNgu}" />

                            <TextBox TabIndex="3"
                                     materialDesign:HintAssist.Hint="Tên ngân hàng"
                                     Text="{Binding Model.TenKhoBac}" />
                        </StackPanel>

                        <StackPanel Grid.Row="1"
                                    Grid.Column="3"
                                    Visibility="{Binding IsVisibleCommonInfo, Converter={StaticResource InverseBoolToVisConverter}}">
                            <ComboBox TabIndex="1"
                                      materialDesign:HintAssist.Hint="Mã tăng giảm"
                                      materialDesign:TextFieldAssist.HasClearButton="True"
                                      ItemsSource="{Binding TangGiamItems}"
                                      SelectedItem="{Binding SelectedTangGiamItems}"
                                      TextSearch.TextPath="TangGiam"
                                      DisplayMemberPath="TangGiam" />
                            <TextBox TabIndex="2"
                                     materialDesign:HintAssist.Hint="Số tháng bảo lưu thâm niên nghề"
                                     Text="{Binding ThangThamNienNghe,  Converter={StaticResource NumberIntToStringEmptyConverter}}" />
                            <TextBox TabIndex="3"
                                     materialDesign:HintAssist.Hint="Số tài khoản"
                                     Text="{Binding Model.SoTaiKhoan}" />
                        </StackPanel>

                    </Grid>

                    <Grid Grid.Row="1"
                          Visibility="{Binding IsChecked, ElementName=RbLuongQuyetToanIndex, Converter={StaticResource BooleanToVisibilityConverter}}">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*" />
                            <ColumnDefinition Width="*" />
                            <ColumnDefinition Width="*" />
                            <ColumnDefinition Width="*" />
                        </Grid.ColumnDefinitions>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto" />
                            <RowDefinition Height="*" />
                        </Grid.RowDefinitions>

                        <Grid.Resources>
                            <Style TargetType="TextBox"
                                   BasedOn="{StaticResource MaterialDesignTextBox}">
                                <Setter Property="materialDesign:HintAssist.IsFloating"
                                        Value="True" />
                                <Setter Property="Margin"
                                        Value="10 5 0 0" />
                                <Setter Property="HorizontalAlignment"
                                        Value="Stretch" />
                                <Setter Property="VerticalAlignment"
                                        Value="Center" />
                                <Setter Property="materialDesign:HintAssist.FloatingScale"
                                        Value="0.8" />
                                <Setter Property="IsReadOnly"
                                        Value="{Binding IsReadOnly}" />
                            </Style>
                            <Style TargetType="DatePicker"
                                   BasedOn="{StaticResource MaterialDesignFloatingHintDatePicker}">
                                <Setter Property="materialDesign:HintAssist.IsFloating"
                                        Value="True" />
                                <Setter Property="Margin"
                                        Value="10 5 0 0" />
                                <Setter Property="HorizontalAlignment"
                                        Value="Stretch" />
                                <Setter Property="VerticalAlignment"
                                        Value="Center" />
                                <Setter Property="materialDesign:HintAssist.FloatingScale"
                                        Value="0.8" />
                                <Setter Property="IsEnabled"
                                        Value="{Binding IsReadOnly, Converter={StaticResource InvertBooleanConverter}}" />
                            </Style>
                            <Style TargetType="ComboBox"
                                   BasedOn="{StaticResource MaterialDesignFloatingHintComboBox}">
                                <Setter Property="materialDesign:HintAssist.IsFloating"
                                        Value="True" />
                                <Setter Property="Margin"
                                        Value="10 5 0 0" />
                                <Setter Property="HorizontalAlignment"
                                        Value="Stretch" />
                                <Setter Property="VerticalAlignment"
                                        Value="Center" />
                                <Setter Property="materialDesign:HintAssist.FloatingScale"
                                        Value="0.8" />
                                <Setter Property="IsEditable"
                                        Value="True" />
                                <Setter Property="IsEnabled"
                                        Value="{Binding IsReadOnly, Converter={StaticResource InvertBooleanConverter}}" />
                            </Style>
                        </Grid.Resources>

                        <TextBlock Grid.Column="0"
                                   Margin="10 10 0 0"
                                   Grid.ColumnSpan="2"
                                   FontSize="12"
                                   FontWeight="SemiBold"
                                   Text="THÔNG TIN CẤP BẬC"
                                   extensions:TextBlockTransform.CharacterCasing="Upper" />

                        <StackPanel Grid.Row="1"
                                    Grid.Column="0">
                            <ComboBox TabIndex="4"
                                      materialDesign:HintAssist.Hint="Cấp bậc"
                                      TextSearch.TextPath="CapBac"
                                      ItemsSource="{Binding ItemsCapBac}"
                                      SelectedItem="{Binding SelectedCapBac}">
                                <ComboBox.GroupStyle>
                                    <GroupStyle>
                                        <GroupStyle.ContainerStyle>
                                            <Style TargetType="{x:Type GroupItem}">
                                                <Setter Property="Margin"
                                                        Value="0,0,0,5" />
                                                <Setter Property="Template">
                                                    <Setter.Value>
                                                        <ControlTemplate TargetType="{x:Type GroupItem}">
                                                            <Expander IsExpanded="False"
                                                                      Style="{StaticResource DataGridExpander}"
                                                                      wpf:ExpanderAssist.HorizontalHeaderPadding="5">
                                                                <Expander.Header>
                                                                    <DockPanel>
                                                                        <TextBlock FontWeight="Bold"
                                                                                   Text="{Binding Path=Name}"
                                                                                   Margin="5,0,10,0"
                                                                                   Width="Auto" />
                                                                        <TextBlock FontWeight="Bold"
                                                                                   Text="{Binding Path=ItemCount}" />
                                                                    </DockPanel>
                                                                </Expander.Header>
                                                                <Expander.Content>
                                                                    <ItemsPresenter />
                                                                </Expander.Content>
                                                            </Expander>
                                                        </ControlTemplate>
                                                    </Setter.Value>
                                                </Setter>
                                            </Style>
                                        </GroupStyle.ContainerStyle>
                                    </GroupStyle>
                                    <GroupStyle>
                                        <GroupStyle.HeaderTemplate>
                                            <DataTemplate>
                                                <TextBlock FontWeight="SemiBold"
                                                           Text="{Binding Name}"
                                                           Margin="20 0 0 0"
                                                           MinWidth="100"
                                                           HorizontalAlignment="Left" />
                                            </DataTemplate>
                                        </GroupStyle.HeaderTemplate>
                                    </GroupStyle>
                                </ComboBox.GroupStyle>
                                <ComboBox.ItemTemplate>
                                    <DataTemplate>
                                        <TextBlock Text="{Binding CapBac}" />
                                    </DataTemplate>
                                </ComboBox.ItemTemplate>
                            </ComboBox>

                            <TextBox TabIndex="5"
                                     materialDesign:HintAssist.Hint="Tiền lương bảo lưu cấp bậc"
                                     Text="{Binding TienBaoLuuCb, StringFormat=N0, Converter={StaticResource NumberDecimalToStringEmptyConverter}}" />


                        </StackPanel>

                        <StackPanel Grid.Row="1"
                                    Grid.Column="1">
                            <ComboBox TabIndex="4"
                                      IsEnabled="{Binding IsDisableLoaiNhom}"
                                      materialDesign:HintAssist.Hint="Loại - Nhóm"
                                      materialDesign:TextFieldAssist.HasClearButton="True"
                                      ItemsSource="{Binding ItemsLoaiNhom}"
                                      SelectedItem="{Binding SelectedLoaiNhom}"
                                      TextSearch.TextPath="LoaiNhom"
                                      DisplayMemberPath="LoaiNhom" />
                            <TextBox TabIndex="5"
                                     materialDesign:HintAssist.Hint="Số tháng bảo lưu cấp bậc"
                                     Text="{Binding SoThangTinhBaoLuuCb, Converter={StaticResource NumberIntToStringEmptyConverter}}" />
                        </StackPanel>

                        <StackPanel Grid.Row="1"
                                    Grid.Column="2">
                            <ComboBox TabIndex="4"
                                      materialDesign:HintAssist.Hint="Bậc lương - Tiền lương"
                                      materialDesign:TextFieldAssist.HasClearButton="True"
                                      ItemsSource="{Binding ItemsBacTienLuong}"
                                      SelectedItem="{Binding SelectedBacTienLuong}"
                                      TextSearch.TextPath="MaCapBacLuong"
                                      DisplayMemberPath="MaCapBacLuong" />


                        </StackPanel>

                        <StackPanel Grid.Row="1"
                                    Grid.Column="3">
                            <TextBox TabIndex="4"
                                     materialDesign:HintAssist.Hint="Tiền nâng lương cấp bậc"
                                     Text="{Binding TienNangLuongCb, Converter={StaticResource NumberDecimalToStringEmptyConverter}, StringFormat=N0}" />

                        </StackPanel>

                    </Grid>

                    <Grid Grid.Row="2"
                          Visibility="{Binding IsChecked, ElementName=RbLuongQuyetToanIndex, Converter={StaticResource BooleanToVisibilityConverter}}">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"
                                              />
                            <ColumnDefinition Width="*"
                                             />
                            <ColumnDefinition Width="*"
                                              />
                            <ColumnDefinition Width="*"
                                              />
                        </Grid.ColumnDefinitions>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto" />
                            <RowDefinition Height="*" />
                        </Grid.RowDefinitions>

                        <Grid.Resources>
                            <Style TargetType="TextBox"
                                   BasedOn="{StaticResource MaterialDesignTextBox}">
                                <Setter Property="materialDesign:HintAssist.IsFloating"
                                        Value="True" />
                                <Setter Property="Margin"
                                        Value="10 5 0 0" />
                                <Setter Property="HorizontalAlignment"
                                        Value="Stretch" />
                                <Setter Property="VerticalAlignment"
                                        Value="Center" />
                                <Setter Property="materialDesign:HintAssist.FloatingScale"
                                        Value="0.8" />
                                <Setter Property="IsReadOnly"
                                        Value="{Binding IsReadOnly}" />
                            </Style>
                            <Style TargetType="DatePicker"
                                   BasedOn="{StaticResource MaterialDesignFloatingHintDatePicker}">
                                <Setter Property="materialDesign:HintAssist.IsFloating"
                                        Value="True" />
                                <Setter Property="Margin"
                                        Value="10 5 0 0" />
                                <Setter Property="HorizontalAlignment"
                                        Value="Stretch" />
                                <Setter Property="VerticalAlignment"
                                        Value="Center" />
                                <Setter Property="materialDesign:HintAssist.FloatingScale"
                                        Value="0.8" />
                                <Setter Property="IsEnabled"
                                        Value="{Binding IsReadOnly, Converter={StaticResource InvertBooleanConverter}}" />
                            </Style>
                            <Style TargetType="ComboBox"
                                   BasedOn="{StaticResource MaterialDesignFloatingHintComboBox}">
                                <Setter Property="materialDesign:HintAssist.IsFloating"
                                        Value="True" />
                                <Setter Property="Margin"
                                        Value="10 5 0 0" />
                                <Setter Property="HorizontalAlignment"
                                        Value="Left" />
                                <Setter Property="MinWidth"
                                        Value="300" />
                                <Setter Property="VerticalAlignment"
                                        Value="Center" />
                                <Setter Property="materialDesign:HintAssist.FloatingScale"
                                        Value="0.8" />
                                <Setter Property="IsEditable"
                                        Value="True" />
                                <Setter Property="IsEnabled"
                                        Value="{Binding IsReadOnly, Converter={StaticResource InvertBooleanConverter}}" />
                            </Style>
                        </Grid.Resources>

                        <TextBlock Grid.Column="0"
                                   Margin="10 10 0 0"
                                   Grid.ColumnSpan="2"
                                   FontSize="12"
                                   FontWeight="SemiBold"
                                   Text="THÔNG TIN CHỨC VỤ / CHỨC DANH"
                                   extensions:TextBlockTransform.CharacterCasing="Upper" />

                        <StackPanel Grid.Row="1"
                                    Grid.Column="0">
                            <ComboBox TabIndex="6"
                                      materialDesign:HintAssist.Hint="Tiền lương - CV/CD"
                                      TextSearch.TextPath="ChucVuDisplay"
                                      ItemsSource="{Binding ItemsChucVu}"
                                      SelectedItem="{Binding SelectedChucVu}">
                                <ComboBox.GroupStyle>
                                    <GroupStyle>
                                        <GroupStyle.ContainerStyle>
                                            <Style TargetType="{x:Type GroupItem}">
                                                <Setter Property="Margin"
                                                        Value="0,0,0,5" />
                                                <Setter Property="Template">
                                                    <Setter.Value>
                                                        <ControlTemplate TargetType="{x:Type GroupItem}">
                                                            <Expander IsExpanded="False"
                                                                      Style="{StaticResource DataGridExpander}"
                                                                      wpf:ExpanderAssist.HorizontalHeaderPadding="5">
                                                                <Expander.Header>
                                                                    <DockPanel>
                                                                        <TextBlock FontWeight="Bold"
                                                                                   Text="{Binding Path=Name}"
                                                                                   Margin="5,0,10,0"
                                                                                   Width="Auto" />
                                                                        <TextBlock FontWeight="Bold"
                                                                                   Text="{Binding Path=ItemCount}" />
                                                                    </DockPanel>
                                                                </Expander.Header>
                                                                <Expander.Content>
                                                                    <ItemsPresenter />
                                                                </Expander.Content>
                                                            </Expander>
                                                        </ControlTemplate>
                                                    </Setter.Value>
                                                </Setter>
                                            </Style>
                                        </GroupStyle.ContainerStyle>
                                    </GroupStyle>
                                    <GroupStyle>
                                        <GroupStyle.HeaderTemplate>
                                            <DataTemplate>
                                                <TextBlock FontWeight="SemiBold"
                                                           Text="{Binding Name}"
                                                           Margin="20 0 0 0"
                                                           MinWidth="100"
                                                           HorizontalAlignment="Left" />
                                            </DataTemplate>
                                        </GroupStyle.HeaderTemplate>
                                    </GroupStyle>
                                </ComboBox.GroupStyle>
                                <ComboBox.ItemTemplate>
                                    <DataTemplate>
                                        <TextBlock Text="{Binding ChucVuDisplay}" />
                                    </DataTemplate>
                                </ComboBox.ItemTemplate>
                            </ComboBox>
                            <TextBox TabIndex="7"
                                     materialDesign:HintAssist.Hint="Tiền lương bảo lưu CV/CD"
                                     Text="{Binding TienBaoLuuCvd, StringFormat=N0, Converter={StaticResource NumberDecimalToStringEmptyConverter}}" />

                            <CheckBox TabIndex="8"
                                      IsEnabled="{Binding IsReadOnly, Converter={StaticResource InvertBooleanConverter}}"
                                      materialDesign:HintAssist.Hint="Không tính lương"
                                      Content="Không tính lương"
                                      VerticalAlignment="Center"
                                      IsChecked="{Binding Model.KhongLuong}"
                                      Margin="9 20 0 0" />
                            <CheckBox TabIndex="9"
                                      x:Name="NuocNgoai"
                                      IsEnabled="{Binding IsReadOnly, Converter={StaticResource InvertBooleanConverter}}"
                                      materialDesign:HintAssist.Hint="Ở nước ngoài"
                                      Content="Ở nước ngoài"
                                      VerticalAlignment="Center"
                                      IsChecked="{Binding BTrangThaiNN}"
                                      Margin="9 20 0 0" />
                        </StackPanel>

                        <StackPanel Grid.Row="1"
                                    Grid.Column="1">
                            <TextBox TabIndex="6"
                                     materialDesign:HintAssist.Hint="Tiền nâng lương CV/CD"
                                     Text="{Binding TienNangLuongCvd, Converter={StaticResource NumberDecimalToStringEmptyConverter}, StringFormat=N0}" />
                            <TextBox TabIndex="7"
                                     materialDesign:HintAssist.Hint="Số tháng bảo lưu CV/CD"
                                     Text="{Binding SoThangTinhBaoLuuCvd, Converter={StaticResource NumberIntToStringEmptyConverter}}" />
                            <CheckBox TabIndex="8"
                                      IsEnabled="{Binding IsReadOnly, Converter={StaticResource InvertBooleanConverter}}"
                                      materialDesign:HintAssist.Hint="Chỉ tính Tháng TNN"
                                      Content="Chỉ tính Tháng TNN"
                                      IsChecked="{Binding Model.bKhongTinhNTN}"
                                      Margin="9 20 0 0">
                            </CheckBox>

                            <ComboBox TabIndex="12"
                                      materialDesign:HintAssist.Hint="Tỷ lệ hưởng ở nước ngoài"
                                      ItemsSource="{Binding HuongNNItems}"
                                      SelectedItem="{Binding SelectedHuongNN}"
                                      IsEditable="True"
                                      Visibility="{Binding ElementName=NuocNgoai, Path=IsChecked, Converter={StaticResource BooleanToVisibilityConverter}}"
                                      TextSearch.TextPath="DisplayItem"
                                      DisplayMemberPath="DisplayItem"
                                      Margin="9 0 0 0">
                            </ComboBox>
                        </StackPanel>

                        <StackPanel Grid.Row="1"
                                    Grid.Column="2">
                            <TextBox TabIndex="6"
                                     materialDesign:HintAssist.Hint="Tiền lương CV/CD cũ"
                                     Text="{Binding TienLuongCvdCu, StringFormat=N0, Converter={StaticResource NumberDecimalToStringEmptyConverter}}" />

                            <TextBox TabIndex="11"
                                     Visibility="Hidden"
                                     materialDesign:HintAssist.Hint=""
                                     Text="" />
                            <CheckBox TabIndex="8"
                                      IsEnabled="{Binding IsReadOnly, Converter={StaticResource InvertBooleanConverter}}"
                                      materialDesign:HintAssist.Hint="Nộp BHTN"
                                      Content="Nộp BHTN"
                                      VerticalAlignment="Center"
                                      IsChecked="{Binding Model.BHTN}"
                                      Margin="9 20 0 0" />
                        </StackPanel>

                        <StackPanel Grid.Row="1"
                                    Grid.Column="3">
                            <DatePicker Language="vi-VN"
                                        TabIndex="6"
                                        materialDesign:HintAssist.Hint="Ngày bắt đầu bảo lưu CV/CD"
                                        SelectedDate="{Binding NgayBatDauBaoLuuCvd}" />

                            <TextBox TabIndex="11"
                                     Visibility="Hidden"
                                     materialDesign:HintAssist.Hint=""
                                     Text="" />
                            <CheckBox TabIndex="8"
                                      IsEnabled="{Binding IsReadOnly, Converter={StaticResource InvertBooleanConverter}}"
                                      materialDesign:HintAssist.Hint="Nhận lương qua tài khoản"
                                      Content="Nhận lương qua tài khoản"
                                      VerticalAlignment="Center"
                                      IsChecked="{Binding Model.Tm}"
                                      Margin="9 20 0 0">
                            </CheckBox>
                        </StackPanel>

                        <StackPanel Grid.Row="1"
                                    Grid.Column="0"
                                    Grid.ColumnSpan="2"
                                    Margin="0 200 0 0"
                                    Orientation="Horizontal">
                            <RadioButton x:Name="RbThongTinKeHoach"
                                         Style="{StaticResource MaterialDesignTabRadioButton}"
                                         GroupName="TabIndex"
                                         IsChecked="{Binding TabIndex, Converter={StaticResource EnumToBoolConverter}, ConverterParameter={x:Static utility:ImportTabIndex.Data}}"
                                         FontWeight="Bold"
                                         Content="THÔNG TIN KẾ HOẠCH" />
                            <RadioButton x:Name="RbThongTinBoSung"
                                         Style="{StaticResource MaterialDesignTabRadioButton}"
                                         FontWeight="Bold"
                                         GroupName="TabIndex"
                                         IsChecked="{Binding TabIndex, Converter={StaticResource EnumToBoolConverter}, ConverterParameter={x:Static utility:ImportTabIndex.MLNS}}"
                                         Content="THÔNG TIN BỔ SUNG" />
                        </StackPanel>
                    </Grid>

                    <Grid Grid.Row="3"
                          Visibility="{Binding IsChecked, ElementName=RbThongTinKeHoach, Converter={StaticResource BooleanToVisibilityConverter}}">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*" />
                            <ColumnDefinition Width="*" />
                            <ColumnDefinition Width="*" />
                            <ColumnDefinition Width="*" />
                        </Grid.ColumnDefinitions>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto" />
                            <RowDefinition Height="*" />
                        </Grid.RowDefinitions>

                        <Grid.Resources>
                            <Style TargetType="TextBox"
                                   BasedOn="{StaticResource MaterialDesignTextBox}">
                                <Setter Property="materialDesign:HintAssist.IsFloating"
                                        Value="True" />
                                <Setter Property="Margin"
                                        Value="10 5 0 0" />
                                <Setter Property="HorizontalAlignment"
                                        Value="Stretch" />
                                <Setter Property="VerticalAlignment"
                                        Value="Center" />
                                <Setter Property="materialDesign:HintAssist.FloatingScale"
                                        Value="0.8" />
                                <Setter Property="IsReadOnly"
                                        Value="{Binding IsReadOnly}" />
                            </Style>
                            <Style TargetType="DatePicker"
                                   BasedOn="{StaticResource MaterialDesignFloatingHintDatePicker}">
                                <Setter Property="materialDesign:HintAssist.IsFloating"
                                        Value="True" />
                                <Setter Property="Margin"
                                        Value="10 5 0 0" />
                                <Setter Property="HorizontalAlignment"
                                        Value="Stretch" />
                                <Setter Property="VerticalAlignment"
                                        Value="Center" />
                                <Setter Property="materialDesign:HintAssist.FloatingScale"
                                        Value="0.8" />
                                <Setter Property="IsEnabled"
                                        Value="{Binding IsReadOnly, Converter={StaticResource InvertBooleanConverter}}" />
                            </Style>
                            <Style TargetType="ComboBox"
                                   BasedOn="{StaticResource MaterialDesignFloatingHintComboBox}">
                                <Setter Property="materialDesign:HintAssist.IsFloating"
                                        Value="True" />
                                <Setter Property="Margin"
                                        Value="10 5 0 0" />
                                <Setter Property="HorizontalAlignment"
                                        Value="Stretch" />
                                <Setter Property="VerticalAlignment"
                                        Value="Center" />
                                <Setter Property="materialDesign:HintAssist.FloatingScale"
                                        Value="0.8" />
                                <Setter Property="IsEditable"
                                        Value="True" />
                                <Setter Property="IsEnabled"
                                        Value="{Binding IsReadOnly, Converter={StaticResource InvertBooleanConverter}}" />
                            </Style>
                        </Grid.Resources>


                        <StackPanel Grid.Row="1"
                                    Grid.Column="0"
                                    Visibility="{Binding IsVisiblePlanInfo, Converter={StaticResource InverseBoolToVisConverter}}">
                            <DatePicker Language="vi-vn"
                                        TabIndex="10"
                                        materialDesign:HintAssist.Hint="Ngày nhận cấp bậc"
                                        SelectedDate="{Binding Model.NgayNhanCb}" />
                            <DatePicker Language="vi-VN"
                                        TabIndex="11"
                                        materialDesign:HintAssist.Hint="Ngày nhận CV/CD"
                                        SelectedDate="{Binding Model.NgayNhanCvdTuNgay}" />
                            <ComboBox TabIndex="12"
                                      materialDesign:HintAssist.Hint="Giới tính"
                                      DisplayMemberPath="DisplayItem"
                                      SelectedValuePath="ValueItem"
                                      TextSearch.TextPath="DisplayItem"
                                      ItemsSource="{Binding GenderData, Mode=TwoWay}"
                                      SelectedItem="{Binding SelectedGender}" />

                        </StackPanel>

                        <StackPanel Grid.Row="1"
                                    Grid.Column="1"
                                    Visibility="{Binding IsVisiblePlanInfo, Converter={StaticResource InverseBoolToVisConverter}}">
                            <TextBox TabIndex="10"
                                     materialDesign:HintAssist.Hint="Thời hạn tăng quân hàm / hệ số lương"
                                     Text="{Binding Model.ThoiHanTangCb}" />
                            <TextBox TabIndex="11"
                                     materialDesign:HintAssist.Hint="Thời hạn tăng CV/CD"
                                     Text="{Binding Model.ThoiHanTangCvd}" />

                        </StackPanel>

                        <StackPanel Grid.Row="1"
                                    Grid.Column="2"
                                    Visibility="{Binding IsVisiblePlanInfo, Converter={StaticResource InverseBoolToVisConverter}}">
                            <ComboBox TabIndex="10"
                                      materialDesign:HintAssist.Hint="Nhóm"
                                      ItemsSource="{Binding ItemsNhom, Mode=TwoWay}"
                                      SelectedItem="{Binding SelectedNhom}"
                                      TextSearch.TextPath="DisplayItem"
                                      DisplayMemberPath="DisplayItem" />
                            <TextBox TabIndex="11"
                                     materialDesign:HintAssist.Hint="Tiền lương - CV/CD"
                                     Text="" />
                        </StackPanel>

                        <StackPanel Grid.Row="1"
                                    Grid.Column="3"
                                    Visibility="{Binding IsVisiblePlanInfo, Converter={StaticResource InverseBoolToVisConverter}}">
                            <TextBox TabIndex="10"
                                     materialDesign:HintAssist.Hint="Bậc lương - Tiền lương"
                                     Text="{Binding TienLuongKeHoach, Converter={StaticResource NumberDecimalToStringEmptyConverter}, StringFormat=N0}" />
                            <DatePicker Language="vi-VN"
                                        TabIndex="11"
                                        materialDesign:HintAssist.Hint="Ngày sinh"
                                        SelectedDate="{Binding Model.NgaySinh}" />

                        </StackPanel>

                    </Grid>

                    <Grid Grid.Row="3"
                          Visibility="{Binding IsChecked, ElementName=RbThongTinBoSung, Converter={StaticResource BooleanToVisibilityConverter}}">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*" />
                            <ColumnDefinition Width="*" />
                            <ColumnDefinition Width="*" />
                            <ColumnDefinition Width="*" />
                        </Grid.ColumnDefinitions>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto" />
                            <RowDefinition Height="*" />
                        </Grid.RowDefinitions>

                        <Grid.Resources>
                            <Style TargetType="TextBox"
                                   BasedOn="{StaticResource MaterialDesignTextBox}">
                                <Setter Property="materialDesign:HintAssist.IsFloating"
                                        Value="True" />
                                <Setter Property="Margin"
                                        Value="10 5 0 0" />
                                <Setter Property="HorizontalAlignment"
                                        Value="Stretch" />
                                <Setter Property="VerticalAlignment"
                                        Value="Center" />
                                <Setter Property="materialDesign:HintAssist.FloatingScale"
                                        Value="0.8" />
                                <Setter Property="IsReadOnly"
                                        Value="{Binding IsReadOnly}" />
                            </Style>
                            <Style TargetType="DatePicker"
                                   BasedOn="{StaticResource MaterialDesignFloatingHintDatePicker}">
                                <Setter Property="materialDesign:HintAssist.IsFloating"
                                        Value="True" />
                                <Setter Property="Margin"
                                        Value="10 5 0 0" />
                                <Setter Property="HorizontalAlignment"
                                        Value="Stretch" />
                                <Setter Property="VerticalAlignment"
                                        Value="Center" />
                                <Setter Property="materialDesign:HintAssist.FloatingScale"
                                        Value="0.8" />
                                <Setter Property="IsEnabled"
                                        Value="{Binding IsReadOnly, Converter={StaticResource InvertBooleanConverter}}" />
                            </Style>
                            <Style TargetType="ComboBox"
                                   BasedOn="{StaticResource MaterialDesignFloatingHintComboBox}">
                                <Setter Property="materialDesign:HintAssist.IsFloating"
                                        Value="True" />
                                <Setter Property="Margin"
                                        Value="10 5 0 0" />
                                <Setter Property="HorizontalAlignment"
                                        Value="Stretch" />
                                <Setter Property="VerticalAlignment"
                                        Value="Center" />
                                <Setter Property="materialDesign:HintAssist.FloatingScale"
                                        Value="0.8" />
                                <Setter Property="IsEditable"
                                        Value="True" />
                                <Setter Property="IsEnabled"
                                        Value="{Binding IsReadOnly, Converter={StaticResource InvertBooleanConverter}}" />
                            </Style>
                        </Grid.Resources>

                        <StackPanel Grid.Row="1"
                                    Grid.Column="0"
                                    Visibility="{Binding IsVisibleAddInfo, Converter={StaticResource InverseBoolToVisConverter}}">
                            <TextBox TabIndex="14"
                                     materialDesign:HintAssist.Hint="Mã số định danh"
                                     Text="{Binding Model.MaSoDinhDanh}" />
                            <TextBox TabIndex="15"
                                     materialDesign:HintAssist.Hint="Số điện thoại"
                                     Text="{Binding Model.DienThoai}" />
                            <TextBox TabIndex="16"
                                     materialDesign:HintAssist.Hint="Nơi đăng ký khai sinh"
                                     Text="{Binding Model.NoiDangKyKhaiSinh}" />
                            <TextBox TabIndex="17"
                                     materialDesign:HintAssist.Hint="Nhóm máu"
                                     Text="{Binding Model.NhomMau}" />
                        </StackPanel>

                        <StackPanel Grid.Row="1"
                                    Grid.Column="1"
                                    Visibility="{Binding IsVisibleAddInfo, Converter={StaticResource InverseBoolToVisConverter}}">
                            <TextBox TabIndex="14"
                                     materialDesign:HintAssist.Hint="Căn cước công dân"
                                     Text="{Binding Model.Cccd}" />
                            <TextBox TabIndex="15"
                                     materialDesign:HintAssist.Hint="Nơi công tác"
                                     Text="{Binding Model.NoiCongTac}" />
                            <TextBox TabIndex="16"
                                     materialDesign:HintAssist.Hint="Địa chỉ"
                                     Text="{Binding Model.DiaChi}" />
                        </StackPanel>

                        <StackPanel Grid.Row="1"
                                    Grid.Column="2"
                                    Visibility="{Binding IsVisibleAddInfo, Converter={StaticResource InverseBoolToVisConverter}}">
                            <TextBox TabIndex="14"
                                     materialDesign:HintAssist.Hint="Số chứng minh quân đội"
                                     Text="{Binding Model.SoChungMinhQuanDoi}" />
                            <TextBox TabIndex="15"
                                     materialDesign:HintAssist.Hint="Diện quản lý"
                                     Text="{Binding Model.DienQuanLy}" />
                            <TextBox TabIndex="16"
                                     materialDesign:HintAssist.Hint="Dân tộc"
                                     Text="{Binding Model.DanToc}" />
                        </StackPanel>

                        <StackPanel Grid.Row="1"
                                    Grid.Column="3"
                                    Visibility="{Binding IsVisibleAddInfo, Converter={StaticResource InverseBoolToVisConverter}}">
                            <TextBox TabIndex="14"
                                     materialDesign:HintAssist.Hint="Mã số thuế TNCN"
                                     Text="{Binding Model.MaSoVat}" />
                            <TextBox TabIndex="15"
                                     materialDesign:HintAssist.Hint="Quê quán"
                                     Text="{Binding Model.QueQuan}" />
                            <TextBox TabIndex="16"
                                     materialDesign:HintAssist.Hint="Tôn giáo"
                                     Text="{Binding Model.TonGiao}" />
                        </StackPanel>

                    </Grid>
                </Grid>

                


                <TabControl x:Name="tabController"
                            Grid.Row="0"
                            Grid.Column="1"
                            Style="{StaticResource MaterialDesignNavigatilRailTabControl}"
                            materialDesign:ColorZoneAssist.Mode="PrimaryLight"
                            TabStripPlacement="Top"
                            SelectedIndex="{Binding SelectedTab, Mode=TwoWay}"
                            Margin="10 0 10 10"
                            Grid.RowSpan="2">
                    <TabItem Header="Thông tin phụ cấp"
                             Style="{StaticResource ExplainTabItemStyle}">
                        <Border BorderBrush="{DynamicResource MaterialDesignDivider}"
                                BorderThickness="1">
                            <Grid Grid.Row="0"
                                  Grid.RowSpan="6"
                                  Grid.Column="1"
                                  Margin="10 0 0 5"
                                  x:Name="column4">
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="Auto" />
                                    <RowDefinition Height="*" />
                                    <RowDefinition Height="Auto" />
                                </Grid.RowDefinitions>
                                <StackPanel Margin="0 10 0 0"
                                            Grid.Row="0"
                                            Orientation="Horizontal"
                                            VerticalAlignment="Center">
                                    <Grid Width="{Binding ActualWidth, ElementName=MaPhuCap}">
                                        <TextBox x:Name="tbxSearchPhuCap"
                                                 TabIndex="23"
                                                 Style="{StaticResource MaterialDesignFloatingHintTextBox}"
                                                 wpf:HintAssist.Hint="Mã phụ cấp"
                                                 Text="{Binding SearchMaPhuCap, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                                                 VerticalAlignment="Center">
                                            <TextBox.InputBindings>
                                                <KeyBinding Command="{Binding SearchCommand}"
                                                            Key="Return" />
                                            </TextBox.InputBindings>
                                        </TextBox>
                                    </Grid>
                                    <Grid Width="{Binding ActualWidth, ElementName=TenPhuCap}"
                                          Margin="5 0 0 0">
                                        <TextBox TabIndex="24"
                                                 x:Name="SearchTenPhuCap"
                                                 Style="{StaticResource MaterialDesignFloatingHintTextBox}"
                                                 wpf:HintAssist.Hint="Tên phụ cấp"
                                                 Text="{Binding SearchTenPhuCap, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                                                 VerticalAlignment="Center">
                                            <TextBox.InputBindings>
                                                <KeyBinding Command="{Binding SearchCommand}"
                                                            Key="Return" />
                                            </TextBox.InputBindings>
                                        </TextBox>
                                    </Grid>
                                    <Separator Style="{StaticResource SearchBarHorizontalDividerStyle}" />
                                    <Button TabIndex="25"
                                            Style="{StaticResource SearchBarBtnStyle}"
                                            Command="{Binding SearchCommand}"
                                            IsDefault="{Binding IsKeyboardFocused, ElementName=SearchTenPhuCap}">
                                        <StackPanel Orientation="Horizontal">
                                            <wpf:PackIcon Kind="Search" />
                                            <TextBlock Style="{StaticResource SearchBarBtnTextStyle}"
                                                       Text="Tìm kiếm" />
                                        </StackPanel>
                                    </Button>
                                    <Button TabIndex="26"
                                            Style="{StaticResource SearchBarBtnStyle}"
                                            ToolTip="Filter"
                                            Command="{Binding ResetFilterCommand}">
                                        <StackPanel Orientation="Horizontal">
                                            <wpf:PackIcon Kind="FilterRemoveOutline" />
                                        </StackPanel>
                                    </Button>
                                </StackPanel>
                                <component:ExpandedDataGrid TabIndex="27"
                                                            x:Name="dgAllowanceDetail"
                                                            Margin="0 5 10 0"
                                                            Grid.Row="1"
                                                            FrozenColumnCount="2"
                                                            BorderThickness="1"
                                                            Height="Auto"
                                                            CanUserAddRows="False"
                                                            CanUserResizeColumns="True"
                                                            GridLinesVisibility="All"
                                                            VerticalScrollBarVisibility="Auto"
                                                            HorizontalScrollBarVisibility="Auto"
                                                            RowStyle="{StaticResource DataGridRowDetail}"
                                                            CellStyle="{StaticResource DataGridCellDetail}"
                                                            Style="{StaticResource MaterialDesignDataGrid}"
                                                            ScrollViewer.VerticalScrollBarVisibility="Visible"
                                                            ScrollViewer.HorizontalScrollBarVisibility="Visible"
                                                            AutoGenerateColumns="False"
                                                            ItemsSource="{Binding ItemsAllowence, UpdateSourceTrigger=PropertyChanged}"
                                                            SelectedItem="{Binding SelectedAllowence, Mode=TwoWay}"
                                                            IsSynchronizedWithCurrentItem="True"
                                                            IsReadOnly="{Binding IsReadOnly}"
                                                            ElementDynamicColumn="{Binding ., ElementName=pbDynamicColumn, Mode=TwoWay}">
                                    <component:ExpandedDataGrid.GroupStyle>
                                        <GroupStyle>
                                            <GroupStyle.ContainerStyle>
                                                <Style TargetType="{x:Type GroupItem}">
                                                    <Setter Property="Template">
                                                        <Setter.Value>
                                                            <ControlTemplate TargetType="{x:Type GroupItem}">
                                                                <Expander Style="{StaticResource DataGridExpander}"
                                                                          IsExpanded="True"
                                                                          HorizontalAlignment="Stretch"
                                                                          MinWidth="200"
                                                                          wpf:ExpanderAssist.HorizontalHeaderPadding="5">
                                                                    <Expander.Header>
                                                                        <StackPanel>
                                                                            <TextBlock FontWeight="SemiBold"
                                                                                       Text="{Binding Name}"
                                                                                       Margin="5 0 0 0"
                                                                                       MinWidth="100"
                                                                                       HorizontalAlignment="Left" />
                                                                        </StackPanel>
                                                                    </Expander.Header>
                                                                    <ItemsPresenter />
                                                                </Expander>
                                                            </ControlTemplate>
                                                        </Setter.Value>
                                                    </Setter>
                                                </Style>
                                            </GroupStyle.ContainerStyle>
                                        </GroupStyle>
                                        <GroupStyle>
                                            <GroupStyle.HeaderTemplate>
                                                <DataTemplate>
                                                    <DockPanel>
                                                        <TextBlock Text="{Binding Name}" />
                                                    </DockPanel>
                                                </DataTemplate>
                                            </GroupStyle.HeaderTemplate>
                                        </GroupStyle>
                                    </component:ExpandedDataGrid.GroupStyle>
                                    <component:ExpandedDataGrid.Columns>
                                        <DataGridTextColumn x:Name="MaPhuCap"
                                                            IsReadOnly="True"
                                                            Header="Mã Phụ Cấp"
                                                            ElementStyle="{StaticResource DataGridTextColumnStyle}"
                                                            Binding="{Binding MaPhuCap}" />
                                        <DataGridTextColumn x:Name="TenPhuCap"
                                                            Width="*"
                                                            IsReadOnly="True"
                                                            Header="Tên Phụ Cấp"
                                                            ElementStyle="{StaticResource DataGridTextColumnStyle}"
                                                            Binding="{Binding TenPhuCap}" />
                                        <wpf:DataGridTextColumn Width="120"
                                                                x:Name="GiaTri"
                                                                Header="Giá trị"
                                                                ElementStyle="{StaticResource DataGridTextColumnDetailRightStyle}"
                                                                EditingElementStyle="{StaticResource DataGridTextColumnEditingStyle}"
                                                                Binding="{Binding GiaTri, StringFormat=N2, UpdateSourceTrigger=LostFocus}" />
                                        <wpf:DataGridTextColumn Header="Số lượng"
                                                                x:Name="SoNgayHuong"
                                                                ElementStyle="{StaticResource DataGridTextColumnDetailStyle}"
                                                                EditingElementStyle="{StaticResource DataGridTextColumnEditingStyle}"
                                                                Binding="{Binding HuongPCSN, Converter={ StaticResource NumberDecimalToStringEmptyConverter}, UpdateSourceTrigger=LostFocus}" />
                                    </component:ExpandedDataGrid.Columns>
                                </component:ExpandedDataGrid>
                                <Grid Grid.Row="2">
                                    <Grid.Resources>
                                        <Style TargetType="{x:Type TextBox}"
                                               BasedOn="{StaticResource MaterialDesignTextBox}">
                                            <Setter Property="wpf:HintAssist.IsFloating"
                                                    Value="True" />
                                            <Setter Property="HorizontalAlignment"
                                                    Value="Stretch" />
                                            <Setter Property="VerticalAlignment"
                                                    Value="Center" />
                                            <Setter Property="wpf:HintAssist.FloatingScale"
                                                    Value="0.8" />
                                            <Setter Property="IsReadOnly"
                                                    Value="{Binding IsReadOnly}" />
                                        </Style>
                                        <Style TargetType="{x:Type DatePicker}"
                                               BasedOn="{StaticResource MaterialDesignFloatingHintDatePicker}">
                                            <Setter Property="wpf:HintAssist.IsFloating"
                                                    Value="True" />
                                            <Setter Property="HorizontalAlignment"
                                                    Value="Stretch" />
                                            <Setter Property="VerticalAlignment"
                                                    Value="Center" />
                                            <Setter Property="wpf:HintAssist.FloatingScale"
                                                    Value="0.8" />
                                            <Setter Property="IsEnabled"
                                                    Value="{Binding IsReadOnly, Converter={StaticResource InvertBooleanConverter}}" />
                                        </Style>
                                        <Style TargetType="{x:Type ComboBox}"
                                               BasedOn="{StaticResource MaterialDesignFloatingHintComboBox}">
                                            <Setter Property="wpf:HintAssist.IsFloating"
                                                    Value="True" />
                                            <Setter Property="HorizontalAlignment"
                                                    Value="Stretch" />
                                            <Setter Property="VerticalAlignment"
                                                    Value="Center" />
                                            <Setter Property="wpf:HintAssist.FloatingScale"
                                                    Value="0.8" />
                                            <Setter Property="IsEditable"
                                                    Value="True" />
                                            <Setter Property="IsEnabled"
                                                    Value="{Binding IsReadOnly, Converter={StaticResource InvertBooleanConverter}}" />
                                        </Style>
                                    </Grid.Resources>
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="*" />
                                        <ColumnDefinition Width="*" />
                                        <ColumnDefinition Width="*" />
                                    </Grid.ColumnDefinitions>
                                    <ComboBox Grid.Column="0"
                                              wpf:HintAssist.Hint="Phụ cấp thời hạn"
                                              IsEnabled="False"
                                              ItemsSource="{Binding ItemsAllowenceHuong, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                                              SelectedItem="{Binding SelectedAllowenceHuong, Mode=TwoWay}"
                                              DisplayMemberPath="MaPhuCap" />
                                    <DatePicker Margin="10 0 0 0"
                                                Grid.Column="1"
                                                Language="vi-VN"
                                                wpf:HintAssist.Hint="Ngày bắt đầu hưởng"
                                                SelectedDate="{Binding SelectedAllowenceHuong.DateStart, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" />
                                    <TextBox Margin="10 0 0 0"
                                             Grid.Column="2"
                                             wpf:HintAssist.Hint="Số tháng đã hưởng"
                                             Text="{Binding SelectedAllowenceHuong.ISoThangHuong, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" />
                                </Grid>
                            </Grid>
                        </Border>
                    </TabItem>
                    <TabItem Header="Chế độ BHXH"
                             Style="{StaticResource ExplainTabItemStyle}">
                        <Border BorderBrush="{DynamicResource MaterialDesignDivider}"
                                BorderThickness="1">
                            <Grid Grid.Row="0"
                                  Grid.RowSpan="6"
                                  Grid.Column="1"
                                  Margin="10 0 0 5"
                                  x:Name="columnBHXH">
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="Auto" />
                                    <RowDefinition Height="*" />
                                </Grid.RowDefinitions>
                                <StackPanel Margin="0 10 0 0"
                                            Grid.Row="0"
                                            Orientation="Horizontal"
                                            VerticalAlignment="Center">
                                    <Grid Width="{Binding ActualWidth, ElementName=TenCheDo}"
                                          Margin="0 0 0 0">
                                        <TextBox TabIndex="25"
                                                 x:Name="SearchTenCheDo"
                                                 Style="{StaticResource MaterialDesignFloatingHintTextBox}"
                                                 wpf:HintAssist.Hint="Tên chế độ"
                                                 Text="{Binding SearchTenCheDo, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                                                 VerticalAlignment="Center">
                                            <TextBox.InputBindings>
                                                <KeyBinding Command="{Binding SearchRegimeCommand}"
                                                            Key="Return" />
                                            </TextBox.InputBindings>
                                        </TextBox>
                                    </Grid>
                                    <Separator Style="{StaticResource SearchBarHorizontalDividerStyle}" />
                                    <Button TabIndex="26"
                                            Style="{StaticResource SearchBarBtnStyle}"
                                            Command="{Binding SearchRegimeCommand}"
                                            IsDefault="{Binding IsKeyboardFocused, ElementName=SearchTenCheDo}">
                                        <StackPanel Orientation="Horizontal">
                                            <wpf:PackIcon Kind="Search" />
                                            <TextBlock Style="{StaticResource SearchBarBtnTextStyle}"
                                                       Text="Tìm kiếm" />
                                        </StackPanel>
                                    </Button>
                                    <Button TabIndex="27"
                                            Style="{StaticResource SearchBarBtnStyle}"
                                            ToolTip="Filter"
                                            Command="{Binding ResetFilterRegimeCommand}">
                                        <StackPanel Orientation="Horizontal">
                                            <wpf:PackIcon Kind="FilterRemoveOutline" />
                                        </StackPanel>
                                    </Button>
                                    <Separator Style="{StaticResource SearchBarHorizontalDividerStyle}" />
                                    <Button x:Name="btnShowColCheDo"
                                            Style="{StaticResource SearchBarBtnStyle}">
                                        <StackPanel Orientation="Horizontal">
                                            <wpf:PackIcon Kind="PlusMinusVariant" />
                                            <TextBlock Style="{StaticResource SearchBarBtnTextStyle}"
                                                       Text="Ẩn/hiện cột" />
                                            <wpf:PopupBox x:Name="pbDynamicColumnCheDo"
                                                          Margin="-10 0 0 0"
                                                          HorizontalAlignment="Right"
                                                          StaysOpen="True">
                                                <wpf:PopupBox.Resources>
                                                    <Style TargetType="{x:Type ScrollViewer}">
                                                        <Setter Property="Height"
                                                                Value="400" />
                                                    </Style>
                                                </wpf:PopupBox.Resources>
                                                <wpf:PopupBox.ToggleContent>
                                                    <wpf:PackIcon Kind="MenuDown" />
                                                </wpf:PopupBox.ToggleContent>
                                                <ScrollViewer />
                                            </wpf:PopupBox>
                                        </StackPanel>
                                    </Button>
                                    <Separator Style="{StaticResource SearchBarHorizontalDividerStyle}" />
                                    <ComboBox Name="cbFrozenColumn"
                                              materialDesign:HintAssist.Hint="Cố định cột"
                                              materialDesign:TextFieldAssist.HasClearButton="True"
                                              DisplayMemberPath="DisplayItem"
                                              SelectedValuePath="ValueItem"
                                              Style="{StaticResource MaterialDesignFloatingHintComboBox}" />
                                </StackPanel>
                                <component:ExpandedDataGrid x:Name="dgdCheDoBHXH1"
                                                            Height="Auto"
                                                            Grid.Row="1"
                                                            Margin="0,10,10,0"
                                                            GridLinesVisibility="All"
                                                            VerticalAlignment="Top"
                                                            AutoGenerateColumns="False"
                                                            CanUserResizeColumns="True"
                                                            BorderThickness="1"
                                                            FrozenColumnCount="0"
                                                            HorizontalScrollBarVisibility="Auto"
                                                            VerticalScrollBarVisibility="Auto"
                                                            ScrollViewer.VerticalScrollBarVisibility="Visible"
                                                            ScrollViewer.HorizontalScrollBarVisibility="Visible"
                                                            CanUserAddRows="False"
                                                            ItemsSource="{Binding DataCanBoCheDoBHXH, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                                                            extensions:DataGridBehavior.DisplayRowNumber="True"
                                                            SelectedItem="{Binding SelectedCanBoCheDoBHXH, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                                                            IsReadOnly="False"
                                                            ElementDynamicColumn="{Binding ElementName=pbDynamicColumnCheDo, Path=., Mode=TwoWay}"
                                                            ElementFrozenColumn="{Binding ElementName=cbFrozenColumn, Path=., Mode=TwoWay}"
                                                            extensions:SelectionMouseDoubleClickBehaviour.Command="{Binding ShowPopupDetailCommand}"
                                                            Grid.ColumnSpan="3">
                                    <component:ExpandedDataGrid.Resources>
                                        <helper:BindingProxy x:Key="DataContextProxy"
                                                             Data="{Binding}" />
                                    </component:ExpandedDataGrid.Resources>
                                    <component:ExpandedDataGrid.RowStyle>
                                        <StaticResource ResourceKey="DataGridRowDetail" />
                                    </component:ExpandedDataGrid.RowStyle>
                                    <component:ExpandedDataGrid.CellStyle>
                                        <StaticResource ResourceKey="DataGridCellDetail" />
                                    </component:ExpandedDataGrid.CellStyle>
                                    <component:ExpandedDataGrid.Style>
                                        <StaticResource ResourceKey="MaterialDesignDataGrid" />
                                    </component:ExpandedDataGrid.Style>

                                    <component:ExpandedDataGrid.GroupStyle>
                                        <GroupStyle>
                                            <GroupStyle.ContainerStyle>
                                                <Style TargetType="{x:Type GroupItem}">
                                                    <Setter Property="Template">
                                                        <Setter.Value>
                                                            <ControlTemplate TargetType="{x:Type GroupItem}">
                                                                <Expander Style="{StaticResource DataGridExpander}"
                                                                          IsExpanded="True"
                                                                          HorizontalAlignment="Stretch"
                                                                          MinWidth="200"
                                                                          wpf:ExpanderAssist.HorizontalHeaderPadding="5">
                                                                    <Expander.Header>
                                                                        <StackPanel>
                                                                            <TextBlock FontWeight="SemiBold"
                                                                                       Text="{Binding Name}"
                                                                                       Margin="5 0 0 0"
                                                                                       MinWidth="100"
                                                                                       HorizontalAlignment="Left" />
                                                                        </StackPanel>
                                                                    </Expander.Header>
                                                                    <ItemsPresenter />
                                                                </Expander>
                                                            </ControlTemplate>
                                                        </Setter.Value>
                                                    </Setter>
                                                </Style>
                                            </GroupStyle.ContainerStyle>
                                        </GroupStyle>
                                        <GroupStyle>
                                            <GroupStyle.HeaderTemplate>
                                                <DataTemplate>
                                                    <DockPanel>
                                                        <TextBlock Text="{Binding Name}" />
                                                    </DockPanel>
                                                </DataTemplate>
                                            </GroupStyle.HeaderTemplate>
                                        </GroupStyle>
                                    </component:ExpandedDataGrid.GroupStyle>

                                    <component:ExpandedDataGrid.Columns>
                                        <component:DataGridTextColumn Header="Mã chế độ"
                                                                      x:Name="MaCheDo"
                                                                      Width="200"
                                                                      IsReadOnly="True"
                                                                      Visibility="Collapsed"
                                                                      Binding="{Binding SMaCheDo, UpdateSourceTrigger=LostFocus}"
                                                                      ElementStyle="{StaticResource DataGridTextColumnDetailLeftStyle}" />

                                        <component:DataGridTextColumn Header="Tên chế độ"
                                                                      x:Name="TenCheDo"
                                                                      Width="250"
                                                                      IsReadOnly="True"
                                                                      Binding="{Binding STenCheDo, UpdateSourceTrigger=LostFocus}"
                                                                      ElementStyle="{StaticResource DataGridTextColumnDetailLeftStyle}" />

                                        <DataGridTemplateColumn x:Name="DTuNgay"
                                                                Header="Từ ngày"
                                                                Width="110"
                                                                IsReadOnly="{Binding DataCanBoCheDoBHXH.IsHangCha, Source={StaticResource DataContextProxy}}">
                                            <DataGridTemplateColumn.CellTemplate>
                                                <DataTemplate>
                                                    <TextBlock Text="{Binding DTuNgay, ConverterCulture=en-NZ, StringFormat=dd/MM/yyyy}" />
                                                </DataTemplate>
                                            </DataGridTemplateColumn.CellTemplate>
                                            <DataGridTemplateColumn.CellEditingTemplate>
                                                <DataTemplate>
                                                    <DatePicker wpf:HintAssist.Hint="Ngày bắt đầu hưởng"
                                                                SelectedDate="{Binding DTuNgay, ConverterCulture=en-NZ, Mode=TwoWay, StringFormat=dd/MM/yyyy, UpdateSourceTrigger=PropertyChanged}" />
                                                </DataTemplate>
                                            </DataGridTemplateColumn.CellEditingTemplate>
                                        </DataGridTemplateColumn>

                                        <DataGridTemplateColumn x:Name="DDenNgay"
                                                                Header="Đến ngày"
                                                                Width="110"
                                                                IsReadOnly="{Binding DataCanBoCheDoBHXH.IsHangCha, Source={StaticResource DataContextProxy}}">
                                            <DataGridTemplateColumn.CellTemplate>
                                                <DataTemplate>
                                                    <TextBlock Text="{Binding DDenNgay, ConverterCulture=en-NZ, StringFormat=dd/MM/yyyy}" />
                                                </DataTemplate>
                                            </DataGridTemplateColumn.CellTemplate>
                                            <DataGridTemplateColumn.CellEditingTemplate>
                                                <DataTemplate>
                                                    <DatePicker wpf:HintAssist.Hint="Ngày kết thúc hưởng"
                                                                SelectedDate="{Binding DDenNgay, ConverterCulture=en-NZ, Mode=TwoWay, StringFormat=dd/MM/yyyy, UpdateSourceTrigger=PropertyChanged}" />
                                                </DataTemplate>
                                            </DataGridTemplateColumn.CellEditingTemplate>
                                        </DataGridTemplateColumn>

                                        <component:DataGridTextColumn x:Name="ISoNgayNghi"
                                                                      Header="Số ngày nghỉ"
                                                                      HeaderStyle="{StaticResource WrappedColumnHeaderStyle}"
                                                                      Width="80"
                                                                      Visibility="Collapsed"
                                                                      IsReadOnly="{Binding DataCanBoCheDoBHXH.IsHangCha, Source={StaticResource DataContextProxy}}"
                                                                      Binding="{Binding ISoNgayNghi, Converter={StaticResource NumberIntToStringEmptyConverter}, StringFormat=\{0\}, UpdateSourceTrigger=LostFocus}"
                                                                      ElementStyle="{StaticResource DataGridTextColumnDetailRightStyle}"
                                                                      EditingElementStyle="{StaticResource DataGridTextColumnEditingRightCell}" />

                                        <component:DataGridTextColumn x:Name="FSoNgayHuongBHXH"
                                                                      Header="Số ngày hưởng chế độ BHXH"
                                                                      HeaderStyle="{StaticResource WrappedColumnHeaderStyle}"
                                                                      Width="90"
                                                                      IsReadOnly="{Binding DataCanBoCheDoBHXH.IsHangCha, Source={StaticResource DataContextProxy}}"
                                                                      StringFormat="{}{0:N0}"
                                                                      Binding="{Binding FSoNgayHuongBHXH, Converter={StaticResource NumberToStringEmptyConverter}, StringFormat=\{0:N0\}, UpdateSourceTrigger=LostFocus}"
                                                                      ElementStyle="{StaticResource DataGridTextColumnDetailRightStyle}"
                                                                      EditingElementStyle="{StaticResource DataGridTextColumnEditingRightCell}" />

                                        <DataGridTextColumn x:Name="SSoQuyetDinh"
                                                            Header="Số quyết định hưởng BHXH"
                                                            HeaderStyle="{StaticResource WrappedColumnHeaderStyle}"
                                                            Width="90"
                                                            IsReadOnly="{Binding DataCanBoCheDoBHXH.IsHangCha, Source={StaticResource DataContextProxy}}"
                                                            ElementStyle="{StaticResource DataGridTextColumnDetailStyle}"
                                                            EditingElementStyle="{StaticResource DataGridTextColumnEditingStyle}"
                                                            Binding="{Binding SSoQuyetDinh, UpdateSourceTrigger=LostFocus}" />

                                        <DataGridTemplateColumn x:Name="DNgayQuyetDinh"
                                                                Header="Ngày quyết định"
                                                                Width="110"
                                                                HeaderStyle="{StaticResource WrappedColumnHeaderStyle}"
                                                                IsReadOnly="{Binding DataCanBoCheDoBHXH.IsHangCha, Source={StaticResource DataContextProxy}}">
                                            <DataGridTemplateColumn.CellTemplate>
                                                <DataTemplate>
                                                    <TextBlock Text="{Binding DNgayQuyetDinh, ConverterCulture=en-NZ, StringFormat=dd/MM/yyyy}" />
                                                </DataTemplate>
                                            </DataGridTemplateColumn.CellTemplate>
                                            <DataGridTemplateColumn.CellEditingTemplate>
                                                <DataTemplate>
                                                    <DatePicker wpf:HintAssist.Hint="Ngày quyết định"
                                                                SelectedDate="{Binding DNgayQuyetDinh, ConverterCulture=en-NZ, Mode=TwoWay, StringFormat=dd/MM/yyyy, UpdateSourceTrigger=PropertyChanged}" />
                                                </DataTemplate>
                                            </DataGridTemplateColumn.CellEditingTemplate>
                                        </DataGridTemplateColumn>

                                        <component:DataGridTextColumn Header="Số tiền"
                                                                      x:Name="FSoTien"
                                                                      Width="Auto"
                                                                      IsReadOnly="{Binding DataCanBoCheDoBHXH.IsHangCha, Source={StaticResource DataContextProxy}}"
                                                                      ElementStyle="{StaticResource DataGridTextColumnDetailRightStyle}"
                                                                      EditingElementStyle="{StaticResource DataGridTextColumnEditingRightCell}"
                                                                      Binding="{Binding FSoTien, Converter={ StaticResource NumberDecimalToStringEmptyConverter}, UpdateSourceTrigger=LostFocus, StringFormat={}{0:N2}}" />

                                        <DataGridTemplateColumn x:Name="IThangLuongCanCuDong"
                                                                Header="Tháng lương căn cứ đóng BHXH"
                                                                Width="150"
                                                                HeaderStyle="{StaticResource WrappedColumnHeaderStyle}"
                                                                IsReadOnly="{Binding DataCanBoCheDoBHXH.IsHangCha, Source={StaticResource DataContextProxy}}">
                                            <DataGridTemplateColumn.CellTemplate>
                                                <DataTemplate>
                                                    <DataTemplate.Resources>
                                                        <Style TargetType="ComboBox"
                                                               BasedOn="{StaticResource {ComponentResourceKey TypeInTargetAssembly={x:Type ComboBox}, ResourceId=MaterialDataGridComboBoxColumnEditingStyle}}"></Style>
                                                    </DataTemplate.Resources>
                                                    <StackPanel>
                                                        <ComboBox DisplayMemberPath="DisplayItem"
                                                                  Visibility="{Binding DataCanBoCheDoBHXH.IsHangCha, Converter={StaticResource InverseBoolToVisConverter}}"
                                                                  IsReadOnly="{Binding DataCanBoCheDoBHXH.IsHangCha, Source={StaticResource DataContextProxy}}"
                                                                  SelectedValuePath="ValueItem"
                                                                  ItemsSource="{Binding Data.CbxThangLuongCanCuDong, Source={StaticResource DataContextProxy}}"
                                                                  SelectedValue="{Binding IThangLuongCanCuDong, UpdateSourceTrigger=LostFocus}">
                                                        </ComboBox>
                                                    </StackPanel>
                                                </DataTemplate>
                                            </DataGridTemplateColumn.CellTemplate>
                                        </DataGridTemplateColumn>

                                        <component:DataGridTextColumn Header="Giá trị căn cứ"
                                                                      x:Name="FGiaTriCanCu"
                                                                      Width="Auto"
                                                                      IsReadOnly="{Binding DataCanBoCheDoBHXH.IsHangCha, Source={StaticResource DataContextProxy}}"
                                                                      ElementStyle="{StaticResource DataGridTextColumnDetailRightStyle}"
                                                                      EditingElementStyle="{StaticResource DataGridTextColumnEditingRightCell}"
                                                                      Binding="{Binding FGiaTriCanCu, Converter={ StaticResource NumberDecimalToStringEmptyConverter}, UpdateSourceTrigger=LostFocus, StringFormat={}{0:N2}}" />

                                    </component:ExpandedDataGrid.Columns>
                                </component:ExpandedDataGrid>
                            </Grid>
                        </Border>
                    </TabItem>
                </TabControl>

            </Grid>
        </Grid>
    </materialDesign:DialogHost>
</Window>
