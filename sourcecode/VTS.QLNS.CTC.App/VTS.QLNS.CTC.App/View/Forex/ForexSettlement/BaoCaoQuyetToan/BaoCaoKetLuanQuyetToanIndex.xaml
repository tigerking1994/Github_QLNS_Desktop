<UserControl x:Class="VTS.QLNS.CTC.App.View.Forex.ForexSettlement.BaoCaoQuyetToan.BaoCaoKetLuanQuyetToanIndex"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
             xmlns:local="clr-namespace:VTS.QLNS.CTC.App.View.Forex.ForexSettlement.BaoCaoQuyetToan"
             xmlns:ext="clr-namespace:VTS.QLNS.CTC.App.Extensions"
             xmlns:materialDesign="http://materialdesigninxaml.net/winfx/xaml/themes"
             xmlns:component="clr-namespace:VTS.QLNS.CTC.App.Component"
             xmlns:custom="clr-namespace:VTS.QLNS.CTC.Custom;assembly=VTS.QLNS.CTC.Custom"
             xmlns:helper="clr-namespace:VTS.QLNS.CTC.App.Helper"
             mc:Ignorable="d">
    <UserControl.InputBindings>
        <KeyBinding Key="F3" Command="{Binding AddCommand}" />
        <KeyBinding Key="F4" Command="{Binding DeleteCommand}" />
        <KeyBinding Key="F5" Command="{Binding RefreshCommand}" />
    </UserControl.InputBindings>
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"></RowDefinition>
            <RowDefinition Height="Auto"></RowDefinition>
            <RowDefinition Height="*"></RowDefinition>
        </Grid.RowDefinitions>
        <DockPanel Grid.Row="0">
            <materialDesign:PackIcon Kind="DriveDocument" Height="32" Width="32" Foreground="{DynamicResource PrimaryHueMidBrush}"/>
            <StackPanel Orientation="Vertical">
                <TextBlock FontWeight="Bold" Text="{Binding Title}"></TextBlock>
                <TextBlock Text="{Binding Description}"></TextBlock>
                <Separator Background="{StaticResource MaterialDesignDivider}" Margin="0 5 0 0"/>
            </StackPanel>
        </DockPanel>

        <ScrollViewer
            Grid.Row="1" 
            Margin="0 5 0 0"
            HorizontalScrollBarVisibility="Auto"
            VerticalScrollBarVisibility="Disabled">
            <StackPanel>
                <StackPanel Orientation="Horizontal" Margin="0 0 0 3">
                  
                    <Separator Style="{StaticResource SearchBarHorizontalDividerStyle}" />
                    <Button Style="{DynamicResource SearchBarBtnStyle}" Command="{Binding RefreshCommand}" HorizontalAlignment="Right">
                        <StackPanel Orientation="Horizontal">
                            <materialDesign:PackIcon Kind="Refresh"/>
                            <TextBlock Style="{StaticResource SearchBarBtnTextStyle}" Text="(F5)"/>
                        </StackPanel>
                    </Button>
                    <Separator Style="{StaticResource SearchBarHorizontalDividerStyle}" />
                    <Button Style="{DynamicResource SearchBarBtnStyle}" Command="{Binding PrintCommand}" HorizontalAlignment="Right">
                        <StackPanel Orientation="Horizontal">
                            <materialDesign:PackIcon Kind="Printer"/>
                            <TextBlock Style="{StaticResource SearchBarBtnTextStyle}" Text="In báo cáo"/>
                        </StackPanel>
                    </Button>
                    <Separator Style="{StaticResource SearchBarHorizontalDividerStyle}" />
                    <Button x:Name="btnShowColSelfPay" Style="{StaticResource SearchBarBtnStyle}">
                        <StackPanel Orientation="Horizontal">
                            <materialDesign:PackIcon Kind="PlusMinusVariant" />
                            <TextBlock Style="{StaticResource SearchBarBtnTextStyle}" Text="Ẩn/hiện cột" />
                            <materialDesign:PopupBox
                                Name="pbDynamicColumn"
                                Margin="-10 0 0 0"
                                HorizontalAlignment="Right"
                                StaysOpen="True">
                                <materialDesign:PopupBox.Resources>
                                    <Style TargetType="ScrollViewer">
                                        <Setter Property="Height" Value="400" />
                                    </Style>
                                </materialDesign:PopupBox.Resources>
                                <materialDesign:PopupBox.ToggleContent>
                                    <materialDesign:PackIcon Kind="MenuDown"/>
                                </materialDesign:PopupBox.ToggleContent>
                                <ScrollViewer></ScrollViewer>
                            </materialDesign:PopupBox>
                        </StackPanel>
                    </Button>
                    <Separator Style="{StaticResource SearchBarHorizontalDividerStyle}" />
                    <ComboBox
                        Name="cbFrozenColumn"
                        materialDesign:HintAssist.Hint="Cố định cột"
                        materialDesign:TextFieldAssist.HasClearButton="True"
                        DisplayMemberPath="DisplayItem"
                        SelectedValuePath="ValueItem"
                        Style="{StaticResource MaterialDesignFloatingHintComboBox}"/>
                </StackPanel>
                <Separator Background="{StaticResource MaterialDesignDivider}" />
                <StackPanel Orientation="Horizontal" Margin="0 0 0 3">


                    <Grid
                        Width="{Binding ElementName=DNgayPheDuyetTu, Path=ActualWidth}"
                        Visibility="{Binding ElementName=DNgayPheDuyetTu, Path=Visibility}">
                        <DatePicker
                            Margin="0 0 5 0"
                            Style="{StaticResource MaterialDesignFloatingHintDatePicker}" 
                            Language="vi-VN"
                            materialDesign:HintAssist.Hint="Từ ngày"
                            SelectedDate="{Binding ItemsFilter.DNgayPheDuyetTu}"/>
                    </Grid>
                    <Grid
                        Width="{Binding ElementName=DNgayPheDuyetDen, Path=ActualWidth}"
                        Visibility="{Binding ElementName=DNgayPheDuyetDen, Path=Visibility}">
                        <DatePicker
                            Margin="0 0 5 0"
                            Style="{StaticResource MaterialDesignFloatingHintDatePicker}" 
                            Language="vi-VN"
                            materialDesign:HintAssist.Hint="Đến ngày"
                            SelectedDate="{Binding ItemsFilter.DNgayPheDuyetDen}"/>
                    </Grid>
                    <Grid
                        Width="{Binding ElementName=STenDonVi, Path=ActualWidth}"
                        Visibility="{Binding ElementName=STenDonVi, Path=Visibility}">
                        <custom:AutoCompleteComboBox
                            Margin="0 0 5 0"
                            materialDesign:HintAssist.IsFloating="True"
                            materialDesign:HintAssist.Hint="Đơn vị"
                            DisplayMemberPath="TenDonViDisplay" 
                            TextSearch.TextPath="TenDonViDisplay" 
                            SelectedValuePath="Id" 
                            materialDesign:TextFieldAssist.HasClearButton="True"
                            SelectedItem="{Binding SelectedDonVi}"
                            ItemsSource="{Binding ItemsDonVi}" 
                            Style="{StaticResource MaterialDesignFloatingHintComboBox}"/>
                    </Grid>


                    <Button Style="{StaticResource SearchBarBtnStyle}" Command="{Binding SearchCommand}">
                        <StackPanel Orientation="Horizontal">
                            <materialDesign:PackIcon Kind="Search" />
                            <TextBlock Style="{StaticResource SearchBarBtnTextStyle}">Tìm kiếm</TextBlock>
                        </StackPanel>
                    </Button>
                    <Button
                        Command="{Binding RemoveFilterCommand}"
                        Style="{StaticResource SearchBarBtnStyle}" 
                        ToolTip="Filter">
                        <StackPanel Orientation="Horizontal">
                            <materialDesign:PackIcon Kind="FilterRemoveOutline" />
                        </StackPanel>
                    </Button>
                </StackPanel>
            </StackPanel>
        </ScrollViewer>

        <component:ExpandedDataGrid 
                x:Name="DgdNhBaoCaoKetLuanQuyetToan"
                Grid.Row="2"
                VerticalAlignment="Top"
                BorderThickness="1"
                AutoGenerateColumns="False"
                CanUserResizeColumns="True"
                HorizontalScrollBarVisibility="Auto"
                FrozenColumnCount="1"
                CanUserAddRows="False"
                CanUserDeleteRows="False"
                GridLinesVisibility="All"
                EnableHeaderDataGrid="True"
                ColumnInfo="{Binding Columns}"
                ElementFrozenColumn="{Binding ElementName=cbFrozenColumn, Path=., Mode=TwoWay}"
                ElementDynamicColumn="{Binding ElementName=pbDynamicColumn, Path=., Mode=TwoWay}"
                Style="{StaticResource MultilHeaderDataGrid}"
                RowStyle="{StaticResource DataGridRowDetail}"
                CellStyle="{StaticResource DataGridCellDetail}"
                ItemsSource="{Binding Items}"
                SelectedItem="{Binding SelectedItem}"
                ext:DataGridBehavior.DisplayRowNumber="True">
            <DataGrid.Resources>
                <helper:BindingProxy x:Key="DataContextProxy" Data="{Binding}"/>
            </DataGrid.Resources>
            <DataGrid.Columns>
                <component:DataGridTextColumn
                        x:Name="STT"
                        Header="STT"
                        ColumnSpan="1"
                        Width="60"
                        IsReadOnly="True"
                        Binding="{Binding RelativeSource={RelativeSource Mode=FindAncestor, AncestorType=DataGridRow}, Path=Header}"
                        ElementStyle="{StaticResource DataGridTextColumnCenterStyle}"
                        HeaderStyle="{StaticResource DataGridColumnHeaderCenter}"
                        EditingElementStyle="{StaticResource DataGridTextColumnEditingRightCell}" />
                <component:DataGridTextColumn
                        Header="Chương trình, danh mục VKTBKT, nội dung chi"
                        ColumnSpan="1"
                        IsReadOnly="True"
                       Width="500"
                        Binding="{Binding STenNoiDungChi, UpdateSourceTrigger=LostFocus}"
                        ElementStyle="{StaticResource DataGridTextColumnDetailStyle}"
                        EditingElementStyle="{StaticResource DataGridTextColumnEditingRightCell}" />


                <component:DataGridTextColumn
                        Header="Tổng số (USD)"
                        ColumnSpan="{Binding Data.CountGiaiDoanKeHoach, Source={StaticResource DataContextProxy}, Converter={StaticResource NumberIntToStringEmptyConverter}}"
                        IsReadOnly="True"
                        MinWidth="180"
                         MaxWidth="180"
                        ColumnSpanTitle="Kế hoạch sử dụng Quỹ dự trữ ngoại hối (NSĐB) được Thủ tướng Chính phủ phê duyệt"
                        Binding="{Binding FSumTTCP, UpdateSourceTrigger=LostFocus, StringFormat={}{0:N0}, Converter={StaticResource NumberToStringEmptyConverter}}"
                        ElementStyle="{StaticResource DataGridTextColumnDetailRightStyle}"
                        EditingElementStyle="{StaticResource DataGridTextColumnEditingRightCell}" />

                <!--#region GiaiDoan-->
                <component:DataGridTextColumn
                        Header="{Binding Data.GiaiDoan1, Source={StaticResource DataContextProxy}, Converter={StaticResource DollarToStringConverter}}"
                        ColumnSpan="0"
                        IsReadOnly="True"
                      MinWidth="180"
                         MaxWidth="180"
                        Visibility="{Binding Data.VGiaiDoan1 , Source={StaticResource DataContextProxy}, Converter={StaticResource BooleanToVisibilityConverter}}"
                        Binding="{Binding FKeHoachTTCPUsd1, UpdateSourceTrigger=LostFocus, StringFormat={}{0:N0}, Converter={StaticResource NumberToStringEmptyConverter}}"
                        ElementStyle="{StaticResource DataGridTextColumnDetailRightStyle}"
                        EditingElementStyle="{StaticResource DataGridTextColumnEditingRightCell}" />
                <component:DataGridTextColumn
                        Header="{Binding Data.GiaiDoan2, Source={StaticResource DataContextProxy}, Converter={StaticResource DollarToStringConverter}}"
                        ColumnSpan="0"
                        IsReadOnly="True"
                        MinWidth="180"
                         MaxWidth="180"
                        Visibility="{Binding Data.VGiaiDoan2 , Source={StaticResource DataContextProxy}, Converter={StaticResource BooleanToVisibilityConverter}}"
                        Binding="{Binding FKeHoachTTCPUsd2, UpdateSourceTrigger=LostFocus, StringFormat={}{0:N0}, Converter={StaticResource NumberToStringEmptyConverter}}"
                        ElementStyle="{StaticResource DataGridTextColumnDetailRightStyle}"
                        EditingElementStyle="{StaticResource DataGridTextColumnEditingRightCell}" />
                <component:DataGridTextColumn
                        Header="{Binding Data.GiaiDoan3, Source={StaticResource DataContextProxy}, Converter={StaticResource DollarToStringConverter}}"
                        ColumnSpan="0"
                        IsReadOnly="True" 
                    MinWidth="180"
                         MaxWidth="180"
                        Visibility="{Binding Data.VGiaiDoan3, Source={StaticResource DataContextProxy} , Converter={StaticResource BooleanToVisibilityConverter}}"
                        Binding="{Binding FKeHoachTTCPUsd3, UpdateSourceTrigger=LostFocus, StringFormat={}{0:N0}, Converter={StaticResource NumberToStringEmptyConverter}}"
                        ElementStyle="{StaticResource DataGridTextColumnDetailRightStyle}"
                        EditingElementStyle="{StaticResource DataGridTextColumnEditingRightCell}" />
                <component:DataGridTextColumn
                        Header="{Binding Data.GiaiDoan4, Source={StaticResource DataContextProxy}, Converter={StaticResource DollarToStringConverter}}"
                        ColumnSpan="0"
                        IsReadOnly="True"
                    MinWidth="180"
                         MaxWidth="180"
                        Visibility="{Binding Data.VGiaiDoan4  , Source={StaticResource DataContextProxy}, Converter={StaticResource BooleanToVisibilityConverter}}"
                        Binding="{Binding FKeHoachTTCPUsd4, UpdateSourceTrigger=LostFocus, StringFormat={}{0:N0}, Converter={StaticResource NumberToStringEmptyConverter}}"
                        ElementStyle="{StaticResource DataGridTextColumnDetailRightStyle}"
                        EditingElementStyle="{StaticResource DataGridTextColumnEditingRightCell}" />
                <component:DataGridTextColumn
                        Header="{Binding Data.GiaiDoan5, Source={StaticResource DataContextProxy}, Converter={StaticResource DollarToStringConverter}}"
                        ColumnSpan="0"
                        IsReadOnly="True"
                     MinWidth="180"
                         MaxWidth="180"
                        Visibility="{Binding Data.VGiaiDoan5  , Source={StaticResource DataContextProxy}, Converter={StaticResource BooleanToVisibilityConverter}}"
                        Binding="{Binding FKeHoachTTCPUsd5, UpdateSourceTrigger=LostFocus, StringFormat={}{0:N0}, Converter={StaticResource NumberToStringEmptyConverter}}"
                        ElementStyle="{StaticResource DataGridTextColumnDetailRightStyle}"
                        EditingElementStyle="{StaticResource DataGridTextColumnEditingRightCell}" />
                <component:DataGridTextColumn
                        Header="{Binding Data.GiaiDoan6, Source={StaticResource DataContextProxy}, Converter={StaticResource DollarToStringConverter}}"
                        ColumnSpan="0"
                   MinWidth="180"
                         MaxWidth="180"
                        IsReadOnly="True"
                        Visibility="{Binding Data.VGiaiDoan6  , Source={StaticResource DataContextProxy}, Converter={StaticResource BooleanToVisibilityConverter}}"
                        Binding="{Binding FKeHoachTTCPUsd6, UpdateSourceTrigger=LostFocus, StringFormat={}{0:N0}, Converter={StaticResource NumberToStringEmptyConverter}}"
                        ElementStyle="{StaticResource DataGridTextColumnDetailRightStyle}"
                        EditingElementStyle="{StaticResource DataGridTextColumnEditingRightCell}" />
                <component:DataGridTextColumn
                        Header="{Binding Data.GiaiDoan7, Source={StaticResource DataContextProxy}, Converter={StaticResource DollarToStringConverter}}"
                        ColumnSpan="0"
                        MinWidth="180"
                         MaxWidth="180"
                        IsReadOnly="True"
                        Visibility="{Binding Data.VGiaiDoan7  , Source={StaticResource DataContextProxy}, Converter={StaticResource BooleanToVisibilityConverter}}"
                        Binding="{Binding FKeHoachTTCPUsd7, UpdateSourceTrigger=LostFocus, StringFormat={}{0:N0}, Converter={StaticResource NumberToStringEmptyConverter}}"
                        ElementStyle="{StaticResource DataGridTextColumnDetailRightStyle}"
                        EditingElementStyle="{StaticResource DataGridTextColumnEditingRightCell}" />
                <component:DataGridTextColumn
                        Header="{Binding Data.GiaiDoan8, Source={StaticResource DataContextProxy}, Converter={StaticResource DollarToStringConverter}}"
                        ColumnSpan="0"
                 MinWidth="180"
                         MaxWidth="180"
                        IsReadOnly="True"
                        Visibility="{Binding Data.VGiaiDoan8  , Source={StaticResource DataContextProxy}, Converter={StaticResource BooleanToVisibilityConverter}}"
                        Binding="{Binding FKeHoachTTCPUsd8, UpdateSourceTrigger=LostFocus, StringFormat={}{0:N0}, Converter={StaticResource NumberToStringEmptyConverter}}"
                        ElementStyle="{StaticResource DataGridTextColumnDetailRightStyle}"
                        EditingElementStyle="{StaticResource DataGridTextColumnEditingRightCell}" />
                <component:DataGridTextColumn
                        Header="{Binding Data.GiaiDoan9, Source={StaticResource DataContextProxy}, Converter={StaticResource DollarToStringConverter}}"
                        ColumnSpan="0"
                     MinWidth="180"
                         MaxWidth="180"
                        IsReadOnly="True"
                        Visibility="{Binding Data.VGiaiDoan9  , Source={StaticResource DataContextProxy}, Converter={StaticResource BooleanToVisibilityConverter}}"
                        Binding="{Binding FKeHoachTTCPUsd9, UpdateSourceTrigger=LostFocus, StringFormat={}{0:N0}, Converter={StaticResource NumberToStringEmptyConverter}}"
                        ElementStyle="{StaticResource DataGridTextColumnDetailRightStyle}"
                        EditingElementStyle="{StaticResource DataGridTextColumnEditingRightCell}" />
                <component:DataGridTextColumn
                        Header="{Binding Data.GiaiDoan10, Source={StaticResource DataContextProxy}, Converter={StaticResource DollarToStringConverter}}"
                        ColumnSpan="0"
                        IsReadOnly="True"
                        MinWidth="180"
                         MaxWidth="180"
                        Visibility="{Binding Data.VGiaiDoan10  , Source={StaticResource DataContextProxy}, Converter={StaticResource BooleanToVisibilityConverter}}"
                        Binding="{Binding FKeHoachTTCPUsd10, UpdateSourceTrigger=LostFocus, StringFormat={}{0:N0}, Converter={StaticResource NumberToStringEmptyConverter}}"
                        ElementStyle="{StaticResource DataGridTextColumnDetailRightStyle}"
                        EditingElementStyle="{StaticResource DataGridTextColumnEditingRightCell}" />

                <!--#endregion-->

                <component:DataGridTextColumn
                        Header="Tổng số được cấp (USD)"
                        ColumnSpan="{Binding Data.CountGiaiDoanKinhPhi, Source={StaticResource DataContextProxy}, Converter={StaticResource NumberIntToStringEmptyConverter}}"
                        ColumnSpanTitle="Kinh phí được cấp"
                        IsReadOnly="True"
                        MinWidth="180"
                         MaxWidth="180"
                        Binding="{Binding FSumKPDCUsd, UpdateSourceTrigger=LostFocus, StringFormat={}{0:N0}, Converter={StaticResource NumberToStringEmptyConverter}}"
                        ElementStyle="{StaticResource DataGridTextColumnDetailRightStyle}"
                        EditingElementStyle="{StaticResource DataGridTextColumnEditingRightCell}" />
                <component:DataGridTextColumn
                        Header="Tổng số được cấp (VND)"
                        ColumnSpan="0"
                        IsReadOnly="True"
                    MinWidth="180"
                         MaxWidth="180"
                        Binding="{Binding FSumKPDCVnd, UpdateSourceTrigger=LostFocus, StringFormat={}{0:N0}, Converter={StaticResource NumberToStringEmptyConverter}}"
                        ElementStyle="{StaticResource DataGridTextColumnDetailRightStyle}"
                        EditingElementStyle="{StaticResource DataGridTextColumnEditingRightCell}" />
                <!--#region GiaiDoan-->
                <component:DataGridTextColumn
                        Header="{Binding Data.GiaiDoan1, Source={StaticResource DataContextProxy}, Converter={StaticResource DollarToStringConverter}}"
                        ColumnSpan="0"
                        IsReadOnly="True"
                        MinWidth="180"
                         MaxWidth="180"
                        Visibility="{Binding Data.VGiaiDoan1, Source={StaticResource DataContextProxy} , Converter={StaticResource BooleanToVisibilityConverter}}"
                        Binding="{Binding FKinhPhiDuocCapTongUsd1, UpdateSourceTrigger=LostFocus, StringFormat={}{0:N0}, Converter={StaticResource NumberToStringEmptyConverter}}"
                        ElementStyle="{StaticResource DataGridTextColumnDetailRightStyle}"
                        EditingElementStyle="{StaticResource DataGridTextColumnEditingRightCell}" />
                <component:DataGridTextColumn
                        Header="{Binding Data.GiaiDoan1, Source={StaticResource DataContextProxy}, Converter={StaticResource VNDToStringConverter}}"
                        ColumnSpan="0"
                        IsReadOnly="True"
                        MinWidth="180"
                         MaxWidth="180"
                        Visibility="{Binding Data.VGiaiDoan1, Source={StaticResource DataContextProxy} , Converter={StaticResource BooleanToVisibilityConverter}}"
                        Binding="{Binding FKinhPhiDuocCapTongVnd1, UpdateSourceTrigger=LostFocus, StringFormat={}{0:N0}, Converter={StaticResource NumberToStringEmptyConverter}}"
                        ElementStyle="{StaticResource DataGridTextColumnDetailRightStyle}"
                        EditingElementStyle="{StaticResource DataGridTextColumnEditingRightCell}" />
                <component:DataGridTextColumn
                        Header="{Binding Data.GiaiDoan2, Source={StaticResource DataContextProxy}, Converter={StaticResource DollarToStringConverter}}"
                        ColumnSpan="0"
                        IsReadOnly="True"
                     MinWidth="180"
                         MaxWidth="180"
                        Visibility="{Binding Data.VGiaiDoan2, Source={StaticResource DataContextProxy} , Converter={StaticResource BooleanToVisibilityConverter}}"
                        Binding="{Binding FKinhPhiDuocCapTongUsd2, UpdateSourceTrigger=LostFocus, StringFormat={}{0:N0}, Converter={StaticResource NumberToStringEmptyConverter}}"
                        ElementStyle="{StaticResource DataGridTextColumnDetailRightStyle}"
                        EditingElementStyle="{StaticResource DataGridTextColumnEditingRightCell}" />
                <component:DataGridTextColumn
                        Header="{Binding Data.GiaiDoan2, Source={StaticResource DataContextProxy}, Converter={StaticResource VNDToStringConverter}}"
                        ColumnSpan="0"
                        IsReadOnly="True"
                   MinWidth="180"
                         MaxWidth="180"
                        Visibility="{Binding Data.VGiaiDoan2, Source={StaticResource DataContextProxy} , Converter={StaticResource BooleanToVisibilityConverter}}"
                        Binding="{Binding FKinhPhiDuocCapTongVnd2, UpdateSourceTrigger=LostFocus, StringFormat={}{0:N0}, Converter={StaticResource NumberToStringEmptyConverter}}"
                        ElementStyle="{StaticResource DataGridTextColumnDetailRightStyle}"
                        EditingElementStyle="{StaticResource DataGridTextColumnEditingRightCell}" />
                <component:DataGridTextColumn
                        Header="{Binding Data.GiaiDoan3, Source={StaticResource DataContextProxy}, Converter={StaticResource DollarToStringConverter}}"
                        ColumnSpan="0"
                        IsReadOnly="True"
                    MinWidth="180"
                         MaxWidth="180"
                        Visibility="{Binding Data.VGiaiDoan3, Source={StaticResource DataContextProxy} , Converter={StaticResource BooleanToVisibilityConverter}}"
                        Binding="{Binding FKinhPhiDuocCapTongUsd3, UpdateSourceTrigger=LostFocus, StringFormat={}{0:N0}, Converter={StaticResource NumberToStringEmptyConverter}}"
                        ElementStyle="{StaticResource DataGridTextColumnDetailRightStyle}"
                        EditingElementStyle="{StaticResource DataGridTextColumnEditingRightCell}" />
                <component:DataGridTextColumn
                        Header="{Binding Data.GiaiDoan3, Source={StaticResource DataContextProxy}, Converter={StaticResource VNDToStringConverter}}"
                        ColumnSpan="0"
                        IsReadOnly="True"
                     MinWidth="180"
                         MaxWidth="180"
                        Visibility="{Binding Data.VGiaiDoan3, Source={StaticResource DataContextProxy} , Converter={StaticResource BooleanToVisibilityConverter}}"
                        Binding="{Binding FKinhPhiDuocCapTongVnd3, UpdateSourceTrigger=LostFocus, StringFormat={}{0:N0}, Converter={StaticResource NumberToStringEmptyConverter}}"
                        ElementStyle="{StaticResource DataGridTextColumnDetailRightStyle}"
                        EditingElementStyle="{StaticResource DataGridTextColumnEditingRightCell}" />
                <component:DataGridTextColumn
                        Header="{Binding Data.GiaiDoan4, Source={StaticResource DataContextProxy}, Converter={StaticResource DollarToStringConverter}}"
                        ColumnSpan="0"
                        IsReadOnly="True"
                  MinWidth="180"
                         MaxWidth="180"
                        Visibility="{Binding Data.VGiaiDoan4, Source={StaticResource DataContextProxy} , Converter={StaticResource BooleanToVisibilityConverter}}"
                        Binding="{Binding FKinhPhiDuocCapTongUsd4, UpdateSourceTrigger=LostFocus, StringFormat={}{0:N0}, Converter={StaticResource NumberToStringEmptyConverter}}"
                        ElementStyle="{StaticResource DataGridTextColumnDetailRightStyle}"
                        EditingElementStyle="{StaticResource DataGridTextColumnEditingRightCell}" />
                <component:DataGridTextColumn
                        Header="{Binding Data.GiaiDoan4, Source={StaticResource DataContextProxy}, Converter={StaticResource VNDToStringConverter}}"
                        ColumnSpan="0"
                        IsReadOnly="True"
                     MinWidth="180"
                         MaxWidth="180"
                        Visibility="{Binding Data.VGiaiDoan4, Source={StaticResource DataContextProxy} , Converter={StaticResource BooleanToVisibilityConverter}}"
                        Binding="{Binding FKinhPhiDuocCapTongVnd4, UpdateSourceTrigger=LostFocus, StringFormat={}{0:N0}, Converter={StaticResource NumberToStringEmptyConverter}}"
                        ElementStyle="{StaticResource DataGridTextColumnDetailRightStyle}"
                        EditingElementStyle="{StaticResource DataGridTextColumnEditingRightCell}" />
                <component:DataGridTextColumn
                        Header="{Binding Data.GiaiDoan5, Source={StaticResource DataContextProxy}, Converter={StaticResource DollarToStringConverter}}"
                        ColumnSpan="0"
                 MinWidth="180"
                         MaxWidth="180"
                        IsReadOnly="True"
                        Visibility="{Binding Data.VGiaiDoan5, Source={StaticResource DataContextProxy} , Converter={StaticResource BooleanToVisibilityConverter}}"
                        Binding="{Binding FKinhPhiDuocCapTongUsd5, UpdateSourceTrigger=LostFocus, StringFormat={}{0:N0}, Converter={StaticResource NumberToStringEmptyConverter}}"
                        ElementStyle="{StaticResource DataGridTextColumnDetailRightStyle}"
                        EditingElementStyle="{StaticResource DataGridTextColumnEditingRightCell}" />
                <component:DataGridTextColumn
                        Header="{Binding Data.GiaiDoan5, Source={StaticResource DataContextProxy}, Converter={StaticResource VNDToStringConverter}}"
                        ColumnSpan="0"
                        IsReadOnly="True"
                      MinWidth="180"
                         MaxWidth="180"
                        Visibility="{Binding Data.VGiaiDoan5, Source={StaticResource DataContextProxy} , Converter={StaticResource BooleanToVisibilityConverter}}"
                        Binding="{Binding FKinhPhiDuocCapTongVnd5, UpdateSourceTrigger=LostFocus, StringFormat={}{0:N0}, Converter={StaticResource NumberToStringEmptyConverter}}"
                        ElementStyle="{StaticResource DataGridTextColumnDetailRightStyle}"
                        EditingElementStyle="{StaticResource DataGridTextColumnEditingRightCell}" />
                <component:DataGridTextColumn
                        Header="{Binding Data.GiaiDoan6, Source={StaticResource DataContextProxy}, Converter={StaticResource DollarToStringConverter}}"
                        ColumnSpan="0"
                        IsReadOnly="True"
                  MinWidth="180"
                         MaxWidth="180"
                        Visibility="{Binding Data.VGiaiDoan6, Source={StaticResource DataContextProxy} , Converter={StaticResource BooleanToVisibilityConverter}}"
                        Binding="{Binding FKinhPhiDuocCapTongUsd6, UpdateSourceTrigger=LostFocus, StringFormat={}{0:N0}, Converter={StaticResource NumberToStringEmptyConverter}}"
                        ElementStyle="{StaticResource DataGridTextColumnDetailRightStyle}"
                        EditingElementStyle="{StaticResource DataGridTextColumnEditingRightCell}" />
                <component:DataGridTextColumn
                        Header="{Binding Data.GiaiDoan6, Source={StaticResource DataContextProxy}, Converter={StaticResource VNDToStringConverter}}"
                        ColumnSpan="0"
                   MinWidth="180"
                         MaxWidth="180"
                        IsReadOnly="True"
                        Visibility="{Binding Data.VGiaiDoan6, Source={StaticResource DataContextProxy} , Converter={StaticResource BooleanToVisibilityConverter}}"
                        Binding="{Binding FKinhPhiDuocCapTongVnd6, UpdateSourceTrigger=LostFocus, StringFormat={}{0:N0}, Converter={StaticResource NumberToStringEmptyConverter}}"
                        ElementStyle="{StaticResource DataGridTextColumnDetailRightStyle}"
                        EditingElementStyle="{StaticResource DataGridTextColumnEditingRightCell}" />
                <component:DataGridTextColumn
                        Header="{Binding Data.GiaiDoan7, Source={StaticResource DataContextProxy}, Converter={StaticResource DollarToStringConverter}}"
                        ColumnSpan="0"
                    MinWidth="180"
                         MaxWidth="180"
                        IsReadOnly="True"
                        Visibility="{Binding Data.VGiaiDoan7, Source={StaticResource DataContextProxy} , Converter={StaticResource BooleanToVisibilityConverter}}"
                        Binding="{Binding FKinhPhiDuocCapTongUsd7, UpdateSourceTrigger=LostFocus, StringFormat={}{0:N0}, Converter={StaticResource NumberToStringEmptyConverter}}"
                        ElementStyle="{StaticResource DataGridTextColumnDetailRightStyle}"
                        EditingElementStyle="{StaticResource DataGridTextColumnEditingRightCell}" />
                <component:DataGridTextColumn
                        Header="{Binding Data.GiaiDoan7, Source={StaticResource DataContextProxy}, Converter={StaticResource VNDToStringConverter}}"
                        ColumnSpan="0"
                        IsReadOnly="True"
                    MinWidth="180"
                         MaxWidth="180"
                        Visibility="{Binding Data.VGiaiDoan7, Source={StaticResource DataContextProxy} , Converter={StaticResource BooleanToVisibilityConverter}}"
                        Binding="{Binding FKinhPhiDuocCapTongVnd7, UpdateSourceTrigger=LostFocus, StringFormat={}{0:N0}, Converter={StaticResource NumberToStringEmptyConverter}}"
                        ElementStyle="{StaticResource DataGridTextColumnDetailRightStyle}"
                        EditingElementStyle="{StaticResource DataGridTextColumnEditingRightCell}" />
                <component:DataGridTextColumn
                        Header="{Binding Data.GiaiDoan8, Source={StaticResource DataContextProxy}, Converter={StaticResource DollarToStringConverter}}"
                        ColumnSpan="0"
                        IsReadOnly="True"
                     MinWidth="180"
                         MaxWidth="180"
                        Visibility="{Binding Data.VGiaiDoan8, Source={StaticResource DataContextProxy} , Converter={StaticResource BooleanToVisibilityConverter}}"
                        Binding="{Binding FKinhPhiDuocCapTongUsd8, UpdateSourceTrigger=LostFocus, StringFormat={}{0:N0}, Converter={StaticResource NumberToStringEmptyConverter}}"
                        ElementStyle="{StaticResource DataGridTextColumnDetailRightStyle}"
                        EditingElementStyle="{StaticResource DataGridTextColumnEditingRightCell}" />
                <component:DataGridTextColumn
                        Header="{Binding Data.GiaiDoan8, Source={StaticResource DataContextProxy}, Converter={StaticResource VNDToStringConverter}}"
                        ColumnSpan="0"
                        IsReadOnly="True"
                     MinWidth="180"
                         MaxWidth="180"
                        Visibility="{Binding Data.VGiaiDoan8, Source={StaticResource DataContextProxy} , Converter={StaticResource BooleanToVisibilityConverter}}"
                        Binding="{Binding FKinhPhiDuocCapTongVnd8, UpdateSourceTrigger=LostFocus, StringFormat={}{0:N0}, Converter={StaticResource NumberToStringEmptyConverter}}"
                        ElementStyle="{StaticResource DataGridTextColumnDetailRightStyle}"
                        EditingElementStyle="{StaticResource DataGridTextColumnEditingRightCell}" />
                <component:DataGridTextColumn
                        Header="{Binding Data.GiaiDoan9, Source={StaticResource DataContextProxy}, Converter={StaticResource DollarToStringConverter}}"
                        ColumnSpan="0"
                        IsReadOnly="True"
                    MinWidth="180"
                         MaxWidth="180"
                        Visibility="{Binding Data.VGiaiDoan9, Source={StaticResource DataContextProxy} , Converter={StaticResource BooleanToVisibilityConverter}}"
                        Binding="{Binding FKinhPhiDuocCapTongUsd9, UpdateSourceTrigger=LostFocus, StringFormat={}{0:N0}, Converter={StaticResource NumberToStringEmptyConverter}}"
                        ElementStyle="{StaticResource DataGridTextColumnDetailRightStyle}"
                        EditingElementStyle="{StaticResource DataGridTextColumnEditingRightCell}" />
                <component:DataGridTextColumn
                        Header="{Binding Data.GiaiDoan9, Source={StaticResource DataContextProxy}, Converter={StaticResource VNDToStringConverter}}"
                        ColumnSpan="0"
                        IsReadOnly="True"
                     MinWidth="180"
                         MaxWidth="180"
                        Visibility="{Binding Data.VGiaiDoan9, Source={StaticResource DataContextProxy} , Converter={StaticResource BooleanToVisibilityConverter}}"
                        Binding="{Binding FKinhPhiDuocCapTongVnd9, UpdateSourceTrigger=LostFocus, StringFormat={}{0:N0}, Converter={StaticResource NumberToStringEmptyConverter}}"
                        ElementStyle="{StaticResource DataGridTextColumnDetailRightStyle}"
                        EditingElementStyle="{StaticResource DataGridTextColumnEditingRightCell}" />
                <component:DataGridTextColumn
                        Header="{Binding Data.GiaiDoan10, Source={StaticResource DataContextProxy}, Converter={StaticResource DollarToStringConverter}}"
                        ColumnSpan="0"
                        IsReadOnly="True"
                  MinWidth="180"
                         MaxWidth="180"
                        Visibility="{Binding Data.VGiaiDoan10, Source={StaticResource DataContextProxy} , Converter={StaticResource BooleanToVisibilityConverter}}"
                        Binding="{Binding FKinhPhiDuocCapTongUsd10, UpdateSourceTrigger=LostFocus, StringFormat={}{0:N0}, Converter={StaticResource NumberToStringEmptyConverter}}"
                        ElementStyle="{StaticResource DataGridTextColumnDetailRightStyle}"
                        EditingElementStyle="{StaticResource DataGridTextColumnEditingRightCell}" />
                <component:DataGridTextColumn
                        Header="{Binding Data.GiaiDoan10, Source={StaticResource DataContextProxy}, Converter={StaticResource VNDToStringConverter}}"
                        ColumnSpan="0"
                        IsReadOnly="True"
                     MinWidth="180"
                         MaxWidth="180"
                        Visibility="{Binding Data.VGiaiDoan10, Source={StaticResource DataContextProxy} , Converter={StaticResource BooleanToVisibilityConverter}}"
                        Binding="{Binding FKinhPhiDuocCapTongVnd10, UpdateSourceTrigger=LostFocus, StringFormat={}{0:N0}, Converter={StaticResource NumberToStringEmptyConverter}}"
                        ElementStyle="{StaticResource DataGridTextColumnDetailRightStyle}"
                        EditingElementStyle="{StaticResource DataGridTextColumnEditingRightCell}" />
                <!--#endregion-->

                <component:DataGridTextColumn
                        Header="Tổng số được duyệt (USD)"
                        ColumnSpan="{Binding Data.CountGiaiDoanQuyetToan, Source={StaticResource DataContextProxy}, Converter={StaticResource NumberIntToStringEmptyConverter}}"
                        ColumnSpanTitle="Kinh phí được duyêt"
                        IsReadOnly="True"
                     MinWidth="180"
                         MaxWidth="180"
                        Binding="{Binding FSumQTDDUsd, UpdateSourceTrigger=LostFocus, StringFormat={}{0:N0}, Converter={StaticResource NumberToStringEmptyConverter}}"
                        ElementStyle="{StaticResource DataGridTextColumnDetailRightStyle}"
                        EditingElementStyle="{StaticResource DataGridTextColumnEditingRightCell}" />
                <component:DataGridTextColumn
                        Header="Tổng số được duyệt (VND)"
                        ColumnSpan="0"
                    MinWidth="180"
                         MaxWidth="180"
                        IsReadOnly="True"
                        Binding="{Binding FSumQTDDVnd, UpdateSourceTrigger=LostFocus, StringFormat={}{0:N0}, Converter={StaticResource NumberToStringEmptyConverter}}"
                        ElementStyle="{StaticResource DataGridTextColumnDetailRightStyle}"
                        EditingElementStyle="{StaticResource DataGridTextColumnEditingRightCell}" />
                <!--#region GiaiDoan-->
                <component:DataGridTextColumn
                        Header="{Binding Data.GiaiDoan1, Source={StaticResource DataContextProxy}, Converter={StaticResource DollarToStringConverter}}"
                        ColumnSpan="0"
                    MinWidth="180"
                         MaxWidth="180"
                        IsReadOnly="True"
                        Visibility="{Binding Data.VGiaiDoan1, Source={StaticResource DataContextProxy} , Converter={StaticResource BooleanToVisibilityConverter}}"
                        Binding="{Binding FQuyetToanDuocDuyetTongUsd1, UpdateSourceTrigger=LostFocus, StringFormat={}{0:N0}, Converter={StaticResource NumberToStringEmptyConverter}}"
                        ElementStyle="{StaticResource DataGridTextColumnDetailRightStyle}"
                        EditingElementStyle="{StaticResource DataGridTextColumnEditingRightCell}" />
                <component:DataGridTextColumn
                        Header="{Binding Data.GiaiDoan1, Source={StaticResource DataContextProxy}, Converter={StaticResource VNDToStringConverter}}"
                        ColumnSpan="0"
                        IsReadOnly="True"
                     MinWidth="180"
                         MaxWidth="180"
                        Visibility="{Binding Data.VGiaiDoan1, Source={StaticResource DataContextProxy} , Converter={StaticResource BooleanToVisibilityConverter}}"
                        Binding="{Binding FQuyetToanDuocDuyetTongVnd1, UpdateSourceTrigger=LostFocus, StringFormat={}{0:N0}, Converter={StaticResource NumberToStringEmptyConverter}}"
                        ElementStyle="{StaticResource DataGridTextColumnDetailRightStyle}"
                        EditingElementStyle="{StaticResource DataGridTextColumnEditingRightCell}" />
                <component:DataGridTextColumn
                        Header="{Binding Data.GiaiDoan2, Source={StaticResource DataContextProxy}, Converter={StaticResource DollarToStringConverter}}"
                        ColumnSpan="0"
                    MinWidth="180"
                         MaxWidth="180"
                        IsReadOnly="True"
                        Visibility="{Binding Data.VGiaiDoan2, Source={StaticResource DataContextProxy} , Converter={StaticResource BooleanToVisibilityConverter}}"
                        Binding="{Binding FQuyetToanDuocDuyetTongUsd2, UpdateSourceTrigger=LostFocus, StringFormat={}{0:N0}, Converter={StaticResource NumberToStringEmptyConverter}}"
                        ElementStyle="{StaticResource DataGridTextColumnDetailRightStyle}"
                        EditingElementStyle="{StaticResource DataGridTextColumnEditingRightCell}" />
                <component:DataGridTextColumn
                        Header="{Binding Data.GiaiDoan2, Source={StaticResource DataContextProxy}, Converter={StaticResource VNDToStringConverter}}"
                        ColumnSpan="0"
                       MinWidth="180"
                         MaxWidth="180"
                        IsReadOnly="True"
                        Visibility="{Binding Data.VGiaiDoan2, Source={StaticResource DataContextProxy} , Converter={StaticResource BooleanToVisibilityConverter}}"
                        Binding="{Binding FQuyetToanDuocDuyetTongVnd2, UpdateSourceTrigger=LostFocus, StringFormat={}{0:N0}, Converter={StaticResource NumberToStringEmptyConverter}}"
                        ElementStyle="{StaticResource DataGridTextColumnDetailRightStyle}"
                        EditingElementStyle="{StaticResource DataGridTextColumnEditingRightCell}" />
                <component:DataGridTextColumn
                        Header="{Binding Data.GiaiDoan3, Source={StaticResource DataContextProxy}, Converter={StaticResource DollarToStringConverter}}"
                        ColumnSpan="0"
                        IsReadOnly="True"
                   MinWidth="180"
                         MaxWidth="180"
                        Visibility="{Binding Data.VGiaiDoan3, Source={StaticResource DataContextProxy} , Converter={StaticResource BooleanToVisibilityConverter}}"
                        Binding="{Binding FQuyetToanDuocDuyetTongUsd3, UpdateSourceTrigger=LostFocus, StringFormat={}{0:N0}, Converter={StaticResource NumberToStringEmptyConverter}}"
                        ElementStyle="{StaticResource DataGridTextColumnDetailRightStyle}"
                        EditingElementStyle="{StaticResource DataGridTextColumnEditingRightCell}" />
                <component:DataGridTextColumn
                        Header="{Binding Data.GiaiDoan3, Source={StaticResource DataContextProxy}, Converter={StaticResource VNDToStringConverter}}"
                        ColumnSpan="0"
                    MinWidth="180"
                         MaxWidth="180"
                        IsReadOnly="True"
                        Visibility="{Binding Data.VGiaiDoan3, Source={StaticResource DataContextProxy} , Converter={StaticResource BooleanToVisibilityConverter}}"
                        Binding="{Binding FQuyetToanDuocDuyetTongVnd3, UpdateSourceTrigger=LostFocus, StringFormat={}{0:N0}, Converter={StaticResource NumberToStringEmptyConverter}}"
                        ElementStyle="{StaticResource DataGridTextColumnDetailRightStyle}"
                        EditingElementStyle="{StaticResource DataGridTextColumnEditingRightCell}" />
                <component:DataGridTextColumn
                        Header="{Binding Data.GiaiDoan4, Source={StaticResource DataContextProxy}, Converter={StaticResource DollarToStringConverter}}"
                        ColumnSpan="0"
                        IsReadOnly="True"
                   MinWidth="180"
                         MaxWidth="180"
                        Visibility="{Binding Data.VGiaiDoan4, Source={StaticResource DataContextProxy} , Converter={StaticResource BooleanToVisibilityConverter}}"
                        Binding="{Binding FQuyetToanDuocDuyetTongUsd4, UpdateSourceTrigger=LostFocus, StringFormat={}{0:N0}, Converter={StaticResource NumberToStringEmptyConverter}}"
                        ElementStyle="{StaticResource DataGridTextColumnDetailRightStyle}"
                        EditingElementStyle="{StaticResource DataGridTextColumnEditingRightCell}" />
                <component:DataGridTextColumn
                        Header="{Binding Data.GiaiDoan4, Source={StaticResource DataContextProxy}, Converter={StaticResource VNDToStringConverter}}"
                        ColumnSpan="0"
                        IsReadOnly="True"
                      MinWidth="180"
                         MaxWidth="180"
                        Visibility="{Binding Data.VGiaiDoan4, Source={StaticResource DataContextProxy} , Converter={StaticResource BooleanToVisibilityConverter}}"
                        Binding="{Binding FQuyetToanDuocDuyetTongVnd4, UpdateSourceTrigger=LostFocus, StringFormat={}{0:N0}, Converter={StaticResource NumberToStringEmptyConverter}}"
                        ElementStyle="{StaticResource DataGridTextColumnDetailRightStyle}"
                        EditingElementStyle="{StaticResource DataGridTextColumnEditingRightCell}" />
                <component:DataGridTextColumn
                        Header="{Binding Data.GiaiDoan5, Source={StaticResource DataContextProxy}, Converter={StaticResource DollarToStringConverter}}"
                        ColumnSpan="0"
                        IsReadOnly="True"
              MinWidth="180"
                         MaxWidth="180"
                        Visibility="{Binding Data.VGiaiDoan5, Source={StaticResource DataContextProxy} , Converter={StaticResource BooleanToVisibilityConverter}}"
                        Binding="{Binding FQuyetToanDuocDuyetTongUsd5, UpdateSourceTrigger=LostFocus, StringFormat={}{0:N0}, Converter={StaticResource NumberToStringEmptyConverter}}"
                        ElementStyle="{StaticResource DataGridTextColumnDetailRightStyle}"
                        EditingElementStyle="{StaticResource DataGridTextColumnEditingRightCell}" />
                <component:DataGridTextColumn
                        Header="{Binding Data.GiaiDoan5, Source={StaticResource DataContextProxy}, Converter={StaticResource VNDToStringConverter}}"
                        ColumnSpan="0"
                        IsReadOnly="True"
                   MinWidth="180"
                         MaxWidth="180"
                        Visibility="{Binding Data.VGiaiDoan5, Source={StaticResource DataContextProxy} , Converter={StaticResource BooleanToVisibilityConverter}}"
                        Binding="{Binding FQuyetToanDuocDuyetTongVnd5, UpdateSourceTrigger=LostFocus, StringFormat={}{0:N0}, Converter={StaticResource NumberToStringEmptyConverter}}"
                        ElementStyle="{StaticResource DataGridTextColumnDetailRightStyle}"
                        EditingElementStyle="{StaticResource DataGridTextColumnEditingRightCell}" />
                <component:DataGridTextColumn
                        Header="{Binding Data.GiaiDoan6, Source={StaticResource DataContextProxy}, Converter={StaticResource DollarToStringConverter}}"
                        ColumnSpan="0"
                    MinWidth="180"
                         MaxWidth="180"
                        IsReadOnly="True"
                        Visibility="{Binding Data.VGiaiDoan6, Source={StaticResource DataContextProxy} , Converter={StaticResource BooleanToVisibilityConverter}}"
                        Binding="{Binding FQuyetToanDuocDuyetTongUsd6, UpdateSourceTrigger=LostFocus, StringFormat={}{0:N0}, Converter={StaticResource NumberToStringEmptyConverter}}"
                        ElementStyle="{StaticResource DataGridTextColumnDetailRightStyle}"
                        EditingElementStyle="{StaticResource DataGridTextColumnEditingRightCell}" />
                <component:DataGridTextColumn
                        Header="{Binding Data.GiaiDoan6, Source={StaticResource DataContextProxy}, Converter={StaticResource VNDToStringConverter}}"
                        ColumnSpan="0"
                        IsReadOnly="True"
                  MinWidth="180"
                         MaxWidth="180"
                        Visibility="{Binding Data.VGiaiDoan6, Source={StaticResource DataContextProxy} , Converter={StaticResource BooleanToVisibilityConverter}}"
                        Binding="{Binding FQuyetToanDuocDuyetTongVnd6, UpdateSourceTrigger=LostFocus, StringFormat={}{0:N0}, Converter={StaticResource NumberToStringEmptyConverter}}"
                        ElementStyle="{StaticResource DataGridTextColumnDetailRightStyle}"
                        EditingElementStyle="{StaticResource DataGridTextColumnEditingRightCell}" />
                <component:DataGridTextColumn
                        Header="{Binding Data.GiaiDoan7, Source={StaticResource DataContextProxy}, Converter={StaticResource DollarToStringConverter}}"
                        ColumnSpan="0"
                        IsReadOnly="True"
                     MinWidth="180"
                         MaxWidth="180"
                        Visibility="{Binding Data.VGiaiDoan7, Source={StaticResource DataContextProxy} , Converter={StaticResource BooleanToVisibilityConverter}}"
                        Binding="{Binding FQuyetToanDuocDuyetTongUsd7, UpdateSourceTrigger=LostFocus, StringFormat={}{0:N0}, Converter={StaticResource NumberToStringEmptyConverter}}"
                        ElementStyle="{StaticResource DataGridTextColumnDetailRightStyle}"
                        EditingElementStyle="{StaticResource DataGridTextColumnEditingRightCell}" />
                <component:DataGridTextColumn
                        Header="{Binding Data.GiaiDoan7, Source={StaticResource DataContextProxy}, Converter={StaticResource VNDToStringConverter}}"
                        ColumnSpan="0"
                        IsReadOnly="True"
                       MinWidth="180"
                         MaxWidth="180"
                        Visibility="{Binding Data.VGiaiDoan7, Source={StaticResource DataContextProxy} , Converter={StaticResource BooleanToVisibilityConverter}}"
                        Binding="{Binding FQuyetToanDuocDuyetTongVnd7, UpdateSourceTrigger=LostFocus, StringFormat={}{0:N0}, Converter={StaticResource NumberToStringEmptyConverter}}"
                        ElementStyle="{StaticResource DataGridTextColumnDetailRightStyle}"
                        EditingElementStyle="{StaticResource DataGridTextColumnEditingRightCell}" />
                <component:DataGridTextColumn
                        Header="{Binding Data.GiaiDoan8, Source={StaticResource DataContextProxy}, Converter={StaticResource DollarToStringConverter}}"
                        ColumnSpan="0"
                        IsReadOnly="True"
                      MinWidth="180"
                         MaxWidth="180"
                        Visibility="{Binding Data.VGiaiDoan8, Source={StaticResource DataContextProxy} , Converter={StaticResource BooleanToVisibilityConverter}}"
                        Binding="{Binding FQuyetToanDuocDuyetTongUsd8, UpdateSourceTrigger=LostFocus, StringFormat={}{0:N0}, Converter={StaticResource NumberToStringEmptyConverter}}"
                        ElementStyle="{StaticResource DataGridTextColumnDetailRightStyle}"
                        EditingElementStyle="{StaticResource DataGridTextColumnEditingRightCell}" />
                <component:DataGridTextColumn
                        Header="{Binding Data.GiaiDoan8, Source={StaticResource DataContextProxy}, Converter={StaticResource VNDToStringConverter}}"
                        ColumnSpan="0"
                        IsReadOnly="True"
                 MinWidth="180"
                         MaxWidth="180"
                        Visibility="{Binding Data.VGiaiDoan8, Source={StaticResource DataContextProxy} , Converter={StaticResource BooleanToVisibilityConverter}}"
                        Binding="{Binding FQuyetToanDuocDuyetTongVnd8, UpdateSourceTrigger=LostFocus, StringFormat={}{0:N0}, Converter={StaticResource NumberToStringEmptyConverter}}"
                        ElementStyle="{StaticResource DataGridTextColumnDetailRightStyle}"
                        EditingElementStyle="{StaticResource DataGridTextColumnEditingRightCell}" />
                <component:DataGridTextColumn
                        Header="{Binding Data.GiaiDoan9, Source={StaticResource DataContextProxy}, Converter={StaticResource DollarToStringConverter}}"
                        ColumnSpan="0"
                        IsReadOnly="True"
                      MinWidth="180"
                         MaxWidth="180"
                        Visibility="{Binding Data.VGiaiDoan9, Source={StaticResource DataContextProxy} , Converter={StaticResource BooleanToVisibilityConverter}}"
                        Binding="{Binding FQuyetToanDuocDuyetTongUsd9, UpdateSourceTrigger=LostFocus, StringFormat={}{0:N0}, Converter={StaticResource NumberToStringEmptyConverter}}"
                        ElementStyle="{StaticResource DataGridTextColumnDetailRightStyle}"
                        EditingElementStyle="{StaticResource DataGridTextColumnEditingRightCell}" />
                <component:DataGridTextColumn
                        Header="{Binding Data.GiaiDoan9, Source={StaticResource DataContextProxy}, Converter={StaticResource VNDToStringConverter}}"
                        ColumnSpan="0"
                        IsReadOnly="True"
                 MinWidth="180"
                         MaxWidth="180"
                        Visibility="{Binding Data.VGiaiDoan9, Source={StaticResource DataContextProxy} , Converter={StaticResource BooleanToVisibilityConverter}}"
                        Binding="{Binding FQuyetToanDuocDuyetTongVnd9, UpdateSourceTrigger=LostFocus, StringFormat={}{0:N0}, Converter={StaticResource NumberToStringEmptyConverter}}"
                        ElementStyle="{StaticResource DataGridTextColumnDetailRightStyle}"
                        EditingElementStyle="{StaticResource DataGridTextColumnEditingRightCell}" />
                <component:DataGridTextColumn
                        Header="{Binding Data.GiaiDoan10, Source={StaticResource DataContextProxy}, Converter={StaticResource DollarToStringConverter}}"
                        ColumnSpan="0"
                       MinWidth="180"
                         MaxWidth="180"
                        IsReadOnly="True"
                        Visibility="{Binding Data.VGiaiDoan10, Source={StaticResource DataContextProxy} , Converter={StaticResource BooleanToVisibilityConverter}}"
                        Binding="{Binding FQuyetToanDuocDuyetTongUsd10, UpdateSourceTrigger=LostFocus, StringFormat={}{0:N0}, Converter={StaticResource NumberToStringEmptyConverter}}"
                        ElementStyle="{StaticResource DataGridTextColumnDetailRightStyle}"
                        EditingElementStyle="{StaticResource DataGridTextColumnEditingRightCell}" />
                <component:DataGridTextColumn
                        Header="{Binding Data.GiaiDoan10, Source={StaticResource DataContextProxy}, Converter={StaticResource VNDToStringConverter}}"
                        ColumnSpan="0"
                        IsReadOnly="True"
                     MinWidth="180"
                         MaxWidth="180"
                        Visibility="{Binding Data.VGiaiDoan10, Source={StaticResource DataContextProxy} , Converter={StaticResource BooleanToVisibilityConverter}}"
                        Binding="{Binding FQuyetToanDuocDuyetTongVnd10, UpdateSourceTrigger=LostFocus, StringFormat={}{0:N0}, Converter={StaticResource NumberToStringEmptyConverter}}"
                        ElementStyle="{StaticResource DataGridTextColumnDetailRightStyle}"
                        EditingElementStyle="{StaticResource DataGridTextColumnEditingRightCell}" />
                <!--#endregion-->


                <component:DataGridTextColumn
                        Header="So sánh USD"
                        IsReadOnly="True"
                         MinWidth="180"
                         MaxWidth="180"
                        ColumnSpan="2"
                        ColumnSpanTitle="So sánh số kinh phí được cấp với số quyết toán (thừa ghi số dương, thiếu ghi số âm)"
                        Binding="{Binding FSoSanhKinhPhiUsd, UpdateSourceTrigger=LostFocus , StringFormat={}{0:N0}, Converter={StaticResource NumberToStringEmptyConverter}}"
                        ElementStyle="{StaticResource DataGridTextColumnDetailRightStyle}"
                        EditingElementStyle="{StaticResource DataGridTextColumnEditingRightCell}" />
                <component:DataGridTextColumn
                        Header="So sánh VND"
                        IsReadOnly="True"
                      MinWidth="180"
                         MaxWidth="180"
                        ColumnSpan="0"
                        Binding="{Binding FSoSanhKinhPhiVnd, UpdateSourceTrigger=LostFocus , StringFormat={}{0:N0}, Converter={StaticResource NumberToStringEmptyConverter}}"
                        ElementStyle="{StaticResource DataGridTextColumnDetailRightStyle}"
                        EditingElementStyle="{StaticResource DataGridTextColumnEditingRightCell}" />

                <component:DataGridTextColumn
                        Header="Thừa USD"
                        IsReadOnly="True"
                      MinWidth="180"
                         MaxWidth="180"
                        ColumnSpan="2"
                        ColumnSpanTitle="Kinh phí thừa nộp trả NSNN"
                        Binding="{Binding FThuaTraNSNNUsd, UpdateSourceTrigger=LostFocus , StringFormat={}{0:N0}, Converter={StaticResource NumberToStringEmptyConverter}}"
                        ElementStyle="{StaticResource DataGridTextColumnDetailRightStyle}"
                        EditingElementStyle="{StaticResource DataGridTextColumnEditingRightCell}" />
                <component:DataGridTextColumn
                        Header="Thừa VND"
                        IsReadOnly="True"
                        ColumnSpan="0"
                        MinWidth="180"
                         MaxWidth="180"
                        Binding="{Binding FThuaTraNSNNVnd, UpdateSourceTrigger=LostFocus , StringFormat={}{0:N0}, Converter={StaticResource NumberToStringEmptyConverter}}"
                        ElementStyle="{StaticResource DataGridTextColumnDetailRightStyle}"
                        EditingElementStyle="{StaticResource DataGridTextColumnEditingRightCell}" />



            </DataGrid.Columns>
        </component:ExpandedDataGrid>

        <component:ProgressDialog Grid.RowSpan="3" />


    </Grid>
</UserControl>
